(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{48796:(e,s,a)=>{Promise.resolve().then(a.bind(a,69146))},69146:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>es});const t=a(95155),l=a(12115),r=a(57434),n=a(93500),c=a(72713),i=a(16785),d=a(46561),o=a(4229);function x(e){let{onComplete:s}=e,a=(0,l.useRef)(null),[x,m]=(0,l.useState)(0),[g,h]=(0,l.useState)(0),[u,b]=(0,l.useState)({pages:0,words:0,charCount:0,charCountNoSpace:0,accuracy:100}),p=(0,l.useRef)(null),y=(0,l.useRef)(null),j=(0,l.useRef)(!1),f=(0,l.useRef)(0),N=(0,l.useCallback)(()=>{let e;if(!a.current)return;const s=null!=(e=a.current.textContent)?e:"",t=s.trim().length>0?s.trim().split(/\s+/).length:0,l=s.length,r=s.replace(/\s/g,"").length;b({pages:Math.max(1,Math.ceil(l/600)),words:t,charCount:l,charCountNoSpace:r,accuracy:f.current>0?Math.round(g/f.current*100):100})},[g]),v=(0,l.useCallback)(()=>{y.current&&(clearInterval(y.current),y.current=null)},[]),w=(0,l.useCallback)(()=>{y.current&&clearInterval(y.current),y.current=setInterval(()=>{m(e=>e+1)},1e3),p.current&&clearTimeout(p.current),p.current=setTimeout(v,3e3)},[v]),k=(0,l.useCallback)(e=>{if(1===e.key.length||" "===e.key||"Enter"===e.key){const s=/[가-힣]/.test(e.key)?2:1;h(e=>e+s),f.current+=s,w(),N()}},[w,N]),C=(0,l.useCallback)(e=>{j.current=!0;let s=0;for(const a of e.data)/[가-힣]/.test(a)?s+=2:(/[ㄱ-ㅎ|ㅏ-ㅣ]/.test(a),s+=1);h(e=>e+s),f.current+=s,w(),N()},[w,N]),A=(0,l.useCallback)(e=>{if(j.current){j.current=!1;return}if(e.data){let s=0;for(const a of e.data)/[가-힣]/.test(a)?s+=2:s+=1;h(e=>e+s),f.current+=s,w(),N()}},[w,N]),S=async()=>{let e;a.current&&(s({content:null!=(e=a.current.textContent)?e:"",keyCount:g,typingTime:x,timestamp:new Date().toISOString()}),a.current&&(a.current.textContent=""),h(0),m(0),f.current=0,N())};return(0,l.useEffect)(()=>()=>{y.current&&clearInterval(y.current),p.current&&clearTimeout(p.current)},[]),(0,t.jsxs)("div",{className:"w-full h-full flex flex-col bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 rounded-t-lg",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.A,{className:"w-4 h-4 text-blue-500"}),(0,t.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["글자: ",u.charCount,"(",u.charCountNoSpace,")"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.A,{className:"w-4 h-4 text-green-500"}),(0,t.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["단어: ",u.words]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.A,{className:"w-4 h-4 text-purple-500"}),(0,t.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["페이지: ",u.pages]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.A,{className:"w-4 h-4 text-orange-500"}),(0,t.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["타자: ",g]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.A,{className:"w-4 h-4 text-red-500"}),(0,t.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["시간: ",x,"초"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.A,{className:"w-4 h-4 text-indigo-500"}),(0,t.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["타수: ",x>0?Math.round(g/x*60):0,"타/분"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.A,{className:"w-4 h-4 text-teal-500"}),(0,t.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["정확도: ",u.accuracy,"%"]})]})]}),(0,t.jsxs)("button",{onClick:S,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors duration-200 shadow-sm",children:[(0,t.jsx)(o.A,{className:"w-4 h-4"}),"저장"]})]}),"        ",(0,t.jsx)("div",{ref:a,className:"flex-1 p-6 outline-none resize-none bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 leading-relaxed text-base overflow-auto",contentEditable:!0,onKeyDown:k,onCompositionEnd:C,onInput:A,"data-placeholder":"여기에 타이핑을 시작하세요...",style:{minHeight:"300px",fontFamily:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',lineHeight:"1.6"}})]})}const m=a(83540),g=a(3401),h=a(94754),u=a(96025),b=a(16238),p=a(94517),y=a(24026),j=a(58227),f=a(93504),N=a(21374),v=a(69074),w=a(79397),k=a(14186);function C(e){let{logs:s}=e,[a,n]=(0,l.useState)("daily"),[i,d]=(0,l.useState)("keyCount"),[o,x]=(0,l.useState)("bar"),C=(0,l.useMemo)(()=>{if(!s||0===s.length)return[];if("daily"===a){const e={};return s.forEach(s=>{const a=new Date(s.timestamp).toLocaleDateString();e[a]||(e[a]={date:a,keyCount:0,typingTime:0,totalChars:0,sessions:0,averageWPM:0}),e[a].keyCount+=s.keyCount||0,e[a].typingTime+=s.typingTime||0,e[a].totalChars+=s.totalChars||0,e[a].sessions+=1}),Object.values(e).forEach(e=>{e.averageWPM=e.typingTime>0?Math.round(e.keyCount/e.typingTime*60):0}),Object.values(e).sort((e,s)=>new Date(e.date).getTime()-new Date(s.date).getTime())}{const e={};return s.forEach(s=>{const a=new Date(s.timestamp).getHours(),t="".concat(a,"시");e[t]||(e[t]={hour:t,keyCount:0,typingTime:0,totalChars:0,sessions:0,averageWPM:0}),e[t].keyCount+=s.keyCount||0,e[t].typingTime+=s.typingTime||0,e[t].totalChars+=s.totalChars||0,e[t].sessions+=1}),Object.values(e).forEach(e=>{e.averageWPM=e.typingTime>0?Math.round(e.keyCount/e.typingTime*60):0}),Object.values(e).sort((e,s)=>parseInt(e.hour)-parseInt(s.hour))}},[s,a]),A=e=>{switch(e){case"keyCount":default:return"타자수";case"typingTime":return"타이핑 시간(초)";case"totalChars":return"총 문자수"}},S=e=>{switch(e){case"keyCount":default:return"#3b82f6";case"typingTime":return"#10b981";case"totalChars":return"#f59e0b"}};return(0,t.jsxs)("div",{className:"w-full bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(c.A,{className:"w-6 h-6 text-blue-500"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"타이핑 통계 차트"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v.A,{className:"w-4 h-4 text-gray-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"기간:"}),(0,t.jsxs)("div",{className:"flex rounded-md overflow-hidden border border-gray-300 dark:border-gray-600",children:[(0,t.jsx)("button",{className:"px-3 py-1 text-sm transition-colors ".concat("daily"===a?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>n("daily"),children:"일별"}),(0,t.jsx)("button",{className:"px-3 py-1 text-sm transition-colors border-l border-gray-300 dark:border-gray-600 ".concat("hourly"===a?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>n("hourly"),children:"시간별"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(w.A,{className:"w-4 h-4 text-gray-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"차트:"}),(0,t.jsxs)("div",{className:"flex rounded-md overflow-hidden border border-gray-300 dark:border-gray-600",children:[(0,t.jsx)("button",{className:"px-3 py-1 text-sm transition-colors ".concat("bar"===o?"bg-green-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>x("bar"),children:"막대"}),(0,t.jsx)("button",{className:"px-3 py-1 text-sm transition-colors border-l border-gray-300 dark:border-gray-600 ".concat("line"===o?"bg-green-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>x("line"),children:"선형"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.A,{className:"w-4 h-4 text-gray-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"데이터:"}),(0,t.jsxs)("div",{className:"flex rounded-md overflow-hidden border border-gray-300 dark:border-gray-600",children:[(0,t.jsx)("button",{className:"px-3 py-1 text-sm transition-colors ".concat("keyCount"===i?"bg-purple-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>d("keyCount"),children:"타자수"}),(0,t.jsx)("button",{className:"px-3 py-1 text-sm transition-colors border-l border-gray-300 dark:border-gray-600 ".concat("typingTime"===i?"bg-purple-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>d("typingTime"),children:"시간"}),(0,t.jsx)("button",{className:"px-3 py-1 text-sm transition-colors border-l border-gray-300 dark:border-gray-600 ".concat("totalChars"===i?"bg-purple-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>d("totalChars"),children:"문자수"})]})]})]})]}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("div",{className:"h-96",children:(0,t.jsx)(m.u,{width:"100%",height:"100%",children:"bar"===o?(0,t.jsxs)(g.E,{data:C,margin:{top:20,right:30,left:20,bottom:30},children:[(0,t.jsx)(h.d,{strokeDasharray:"3 3",className:"opacity-30"}),(0,t.jsx)(u.W,{dataKey:"daily"===a?"date":"hour",angle:-45,textAnchor:"end",height:70,className:"text-xs fill-gray-600 dark:fill-gray-400"}),(0,t.jsx)(b.h,{className:"text-xs fill-gray-600 dark:fill-gray-400"}),(0,t.jsx)(p.m,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),(0,t.jsx)(y.s,{}),(0,t.jsx)(j.y,{dataKey:i,name:A(i),fill:S(i),radius:[4,4,0,0]})]}):(0,t.jsxs)(f.b,{data:C,margin:{top:20,right:30,left:20,bottom:30},children:[(0,t.jsx)(h.d,{strokeDasharray:"3 3",className:"opacity-30"}),(0,t.jsx)(u.W,{dataKey:"daily"===a?"date":"hour",angle:-45,textAnchor:"end",height:70,className:"text-xs fill-gray-600 dark:fill-gray-400"}),(0,t.jsx)(b.h,{className:"text-xs fill-gray-600 dark:fill-gray-400"}),(0,t.jsx)(p.m,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),(0,t.jsx)(y.s,{}),(0,t.jsx)(N.N,{type:"monotone",dataKey:i,name:A(i),stroke:S(i),strokeWidth:2,dot:{fill:S(i),strokeWidth:2,r:4}})]})})})}),(0,t.jsxs)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"요약 통계"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(c.A,{className:"w-5 h-5 text-blue-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"총 타자수"})]}),(0,t.jsx)("span",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:s.reduce((e,s)=>e+(s.keyCount||0),0).toLocaleString()})]}),(0,t.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(k.A,{className:"w-5 h-5 text-green-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"총 시간"})]}),(0,t.jsx)("span",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:function(e){if(e<60)return"".concat(e,"초");const s=Math.floor(e/60),a=e%60;if(s<60)return"".concat(s,"분 ").concat(a,"초");const t=Math.floor(s/60);return"".concat(t,"시간 ").concat(s%60,"분 ").concat(a,"초")}(s.reduce((e,s)=>e+(s.typingTime||0),0))})]}),(0,t.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(r.A,{className:"w-5 h-5 text-yellow-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-yellow-700 dark:text-yellow-300",children:"총 문자수"})]}),(0,t.jsx)("span",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:s.reduce((e,s)=>e+(s.totalChars||0),0).toLocaleString()})]}),(0,t.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(w.A,{className:"w-5 h-5 text-purple-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-purple-700 dark:text-purple-300",children:"기록 수"})]}),(0,t.jsx)("span",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:s.length.toLocaleString()})]})]})]})]})}const A=a(73558),S=a(53904),M=a(71539),P=a(1243),I=a(73314),T=a(95880);const E=e=>{let{className:s="",autoRefresh:a=!0,refreshInterval:r=2e3}=e,[n,c]=(0,l.useState)(null),[i,d]=(0,l.useState)(!1),[o,x]=(0,l.useState)(null),[m,g]=(0,l.useState)([]),[h,u]=(0,l.useState)(!1),b=(0,l.useCallback)(async()=>{try{if(d(!0),x(null),window.electronAPI){const e=await window.electronAPI.memory.getInfo();if(e.success&&e.data){const s={...e.data,timestamp:Date.now()};c(s),g(e=>[...e,s].slice(-60))}else x(e.error||"메모리 정보를 가져올 수 없습니다")}}catch(e){console.error("메모리 정보 가져오기 실패:",e),x(e instanceof Error?e.message:"알 수 없는 오류")}finally{d(!1)}},[]),p=(0,l.useCallback)(async()=>{try{if(u(!0),window.electronAPI){const e=await window.electronAPI.memory.cleanup();e.success?setTimeout(b,1e3):x(e.error||"GC 실행 실패")}}catch(e){console.error("GC 실행 실패:",e),x(e instanceof Error?e.message:"GC 실행 중 오류")}finally{u(!1)}},[b]),y=(0,l.useCallback)(async()=>{try{if(window.electronAPI){const e=await window.electronAPI.memory.optimize();e.success?setTimeout(b,1e3):x(e.error||"메모리 최적화 실패")}}catch(e){console.error("메모리 최적화 실패:",e),x(e instanceof Error?e.message:"메모리 최적화 중 오류")}},[b]);(0,l.useEffect)(()=>{if(b(),a){const e=setInterval(b,r);return()=>clearInterval(e)}},[b,a,r]);const j=e=>e>=85?"text-red-500":e>=70?"text-yellow-500":"text-green-500",f=e=>e>=85?"bg-red-500":e>=70?"bg-yellow-500":"bg-green-500",N=e=>e>=1024?"".concat((e/1024).toFixed(1)," GB"):"".concat(e.toFixed(1)," MB"),v=e=>{const{title:s,icon:a,info:l}=e;return(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[a,(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:s})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"사용됨"}),(0,t.jsxs)("span",{className:"font-medium ".concat(j(l.percentage)),children:[N(l.used)," (",l.percentage.toFixed(1),"%)"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(f(l.percentage)),style:{width:"".concat(Math.min(l.percentage,100),"%")}})}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,t.jsxs)("span",{children:["여유: ",N(l.free)]}),(0,t.jsxs)("span",{children:["전체: ",N(l.total)]})]})]})]})};return(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 ".concat(s),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(A.A,{className:"w-5 h-5 text-blue-500"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"메모리 모니터"}),i&&(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-500 border-t-transparent"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:b,disabled:i,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:"새로고침",children:(0,t.jsx)(S.A,{className:"w-4 h-4 ".concat(i?"animate-spin":"")})}),(0,t.jsx)("button",{onClick:p,disabled:h,className:"px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50 transition-colors",title:"가비지 컬렉션 실행",children:h?"실행 중...":"GC"}),(0,t.jsx)("button",{onClick:y,disabled:i,className:"px-3 py-1 text-sm bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50 transition-colors",title:"메모리 최적화",children:(0,t.jsx)(M.A,{className:"w-3 h-3"})})]})]}),o&&(0,t.jsxs)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2",children:[(0,t.jsx)(P.A,{className:"w-4 h-4 text-red-500"}),(0,t.jsx)("span",{className:"text-sm text-red-700",children:o})]}),n?(0,t.jsxs)("div",{className:"space-y-4",children:[n.application&&(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(M.A,{className:"w-5 h-5 text-blue-600"}),(0,t.jsx)("h4",{className:"font-semibold text-blue-900",children:"애플리케이션 총 메모리 사용량"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("span",{className:"text-sm text-blue-700",children:[N(n.application.used)," / ",N(n.application.total)]}),(0,t.jsxs)("span",{className:"text-lg font-bold ".concat(j(n.application.percentage)),children:[n.application.percentage.toFixed(1),"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-blue-200 rounded-full h-3 mt-2",children:(0,t.jsx)("div",{className:"h-3 rounded-full transition-all duration-300 ".concat(f(n.application.percentage)),style:{width:"".concat(Math.min(n.application.percentage,100),"%")}})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)(v,{title:"메인 프로세스",icon:(0,t.jsx)(I.A,{className:"w-4 h-4 text-blue-500"}),info:n.main}),(0,t.jsx)(v,{title:"렌더러 프로세스",icon:(0,t.jsx)(A.A,{className:"w-4 h-4 text-green-500"}),info:n.renderer}),n.gpu&&(0,t.jsx)(v,{title:"GPU 메모리",icon:(0,t.jsx)(M.A,{className:"w-4 h-4 text-purple-500"}),info:n.gpu}),(0,t.jsx)(v,{title:"시스템 메모리",icon:(0,t.jsx)(T.A,{className:"w-4 h-4 text-orange-500"}),info:n.system})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"메모리 사용량 상세"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"메인 프로세스"}),(0,t.jsxs)("span",{className:"font-medium",children:[N(n.main.used)," / ",N(n.main.total)]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"렌더러 프로세스"}),(0,t.jsxs)("span",{className:"font-medium",children:[N(n.renderer.used)," / ",N(n.renderer.total)]})]}),n.application&&(0,t.jsxs)("div",{className:"flex justify-between font-semibold text-blue-700 border-t pt-2",children:[(0,t.jsx)("span",{children:"애플리케이션 합계"}),(0,t.jsxs)("span",{children:[N(n.application.used)," / ",N(n.application.total)]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"시스템 총 메모리"}),(0,t.jsx)("span",{className:"font-medium",children:N(n.system.total)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"시스템 사용 중"}),(0,t.jsx)("span",{className:"font-medium",children:N(n.system.used)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"시스템 여유"}),(0,t.jsx)("span",{className:"font-medium text-green-600",children:N(n.system.free)})]}),n.gpu&&(0,t.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"GPU 메모리"}),(0,t.jsxs)("span",{className:"font-medium",children:[N(n.gpu.used)," / ",N(n.gpu.total)]})]})]})]})]}),n.application&&n.application.percentage>85||n.system.percentage>90?(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(P.A,{className:"w-4 h-4 text-red-600"}),(0,t.jsx)("span",{className:"text-sm font-medium text-red-800",children:"높은 메모리 사용량 경고"})]}),(0,t.jsxs)("p",{className:"text-sm text-red-700 mt-1",children:[n.application&&n.application.percentage>85&&"애플리케이션 메모리 사용량이 높습니다. ",n.system.percentage>90&&"시스템 메모리 사용량이 높습니다. ","성능 저하를 방지하기 위해 메모리 최적화를 실행하거나 불필요한 프로그램을 종료하는 것을 권장합니다."]})]}):n.application&&n.application.percentage>70||n.system.percentage>80?(0,t.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(P.A,{className:"w-4 h-4 text-yellow-600"}),(0,t.jsx)("span",{className:"text-sm font-medium text-yellow-800",children:"메모리 사용량 주의"})]}),(0,t.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"메모리 사용량이 증가하고 있습니다. 메모리 정리를 실행하여 성능을 개선할 수 있습니다."})]}):null]}):(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)(A.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,t.jsx)("p",{children:"메모리 정보를 불러오는 중..."})]})]})};function D(e){let{keyCount:s,typingTime:a,accuracy:t=100}=e,l=a/6e4,r=l>0?s/5/l:0;return{wpm:Math.max(0,r),accuracy:Math.min(100,Math.max(0,t)),performanceIndex:Math.max(0,r*t/100),consistencyScore:Math.min(100,65+Math.min(s,500)/20),fatigueAnalysis:{score:Math.min(100,10*l+r/10),timeFactor:l,intensityFactor:r/100,recommendation:l>30?"휴식이 필요합니다":l>15?"짧은 휴식을 고려하세요":"좋은 상태입니다"}}}function U(e){let{stats:s,isTracking:a,className:r}=e,n=s||{keyCount:0,typingTime:0,accuracy:100},[c,i]=(0,l.useState)(null),[d,o]=(0,l.useState)(!1),[x,m]=(0,l.useState)(!1),[g,h]=(0,l.useState)(null),[u,b]=(0,l.useState)(!1),p=(0,l.useCallback)(async()=>{try{b(!1)}catch(e){console.warn("GPU 상태 확인 실패:",e),b(!1)}},[]),y=(0,l.useCallback)(async e=>null,[]),j=(0,l.useCallback)(async()=>{if(n.keyCount&&n.typingTime){m(!0),h(null);try{if(d&&u){const e=await y(n);if(e)i(e);else{const e=D(n);i(e)}}else{const e=D(n);i(e)}}catch(e){console.error("타이핑 분석 오류:",e),h("분석 중 오류가 발생했습니다."),i(D(n))}finally{m(!1)}}},[n,d,u,y]),f=(0,l.useCallback)(async()=>{const e=!d;if(o(e),e&&u)try{o(!1)}catch(e){console.error("GPU 활성화 실패:",e),o(!1)}},[d,u]);return(0,l.useEffect)(()=>{p()},[p]),(0,l.useEffect)(()=>{n.keyCount>0&&n.typingTime>0&&j()},[n,j]),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6 ".concat(r||""),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"타이핑 분석"}),u&&(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsxs)("label",{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsx)("input",{type:"checkbox",checked:d,onChange:f,disabled:x,className:"rounded border-gray-300"}),(0,t.jsx)("span",{children:"GPU 가속"})]})})]}),x&&(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"분석 중..."})]}),g&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-3 mb-4",children:(0,t.jsx)("p",{className:"text-red-700 text-sm",children:g})}),c&&!x&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"속도"}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(c.wpm)," WPM"]})]}),(0,t.jsxs)("div",{className:"bg-green-50 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"정확도"}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[c.accuracy.toFixed(1),"%"]})]}),(0,t.jsxs)("div",{className:"bg-purple-50 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"성능 지수"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:c.performanceIndex.toFixed(1)})]}),(0,t.jsxs)("div",{className:"bg-orange-50 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"일관성"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:c.consistencyScore.toFixed(1)})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800 mb-2",children:"피로도 분석"}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:(0,t.jsx)("div",{className:"h-2 rounded-full ".concat(c.fatigueAnalysis.score<30?"bg-green-500":c.fatigueAnalysis.score<70?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(Math.min(100,c.fatigueAnalysis.score),"%")}})}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:c.fatigueAnalysis.recommendation})]})]}),!c&&!x&&!g&&(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,t.jsx)("p",{children:"타이핑을 시작하면 분석 결과가 표시됩니다."})})]})}const L=a(40646),G=a(85339);const F=e=>{let{className:s=""}=e,[a,r]=(0,l.useState)(null),[n,c]=(0,l.useState)(!0),[i,d]=(0,l.useState)(null),o=async()=>{try{if(c(!0),d(null),window.electronAPI){const e=await window.electronAPI.system.native.getStatus();e.success?r(e.data):d(e.error||"상태 확인 실패")}else{const e=await fetch("/api/native/status"),s=await e.json();s.success?r(s.data):d(s.error||"상태 확인 실패")}}catch(e){console.error("네이티브 모듈 상태 확인 오류:",e),d(e instanceof Error?e.message:"알 수 없는 오류")}finally{c(!1)}};(0,l.useEffect)(()=>{o();const e=setInterval(o,3e4);return()=>clearInterval(e)},[]);const x=e=>{const{available:s,label:a}=e;return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[s?(0,t.jsx)(L.A,{className:"w-4 h-4 text-green-500"}):(0,t.jsx)(G.A,{className:"w-4 h-4 text-red-500"}),(0,t.jsx)("span",{className:"text-sm ".concat(s?"text-green-700":"text-red-700"),children:a})]})},m=e=>{const{icon:s,title:a,available:l,description:r}=e;return(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[s,(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:a}),l?(0,t.jsx)(L.A,{className:"w-4 h-4 text-green-500"}):(0,t.jsx)(G.A,{className:"w-4 h-4 text-gray-400"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:r})]})};return n?(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 ".concat(s),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(w.A,{className:"w-5 h-5 text-blue-500"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"네이티브 모듈 상태"}),(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-500 border-t-transparent"})]}),(0,t.jsx)("div",{className:"text-center py-4 text-gray-500",children:(0,t.jsx)("p",{children:"네이티브 모듈 상태 확인 중..."})})]}):i?(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 ".concat(s),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(w.A,{className:"w-5 h-5 text-red-500"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"네이티브 모듈 상태"})]}),(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2",children:[(0,t.jsx)(G.A,{className:"w-5 h-5 text-red-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-red-800",children:"상태 확인 실패"}),(0,t.jsx)("p",{className:"text-xs text-red-600",children:i})]})]})]}):a?(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 ".concat(s),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,t.jsx)(w.A,{className:"w-5 h-5 text-blue-500"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"네이티브 모듈 상태"}),(0,t.jsx)("button",{onClick:o,disabled:n,className:"ml-auto p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:"새로고침",children:(0,t.jsx)(w.A,{className:"w-4 h-4 ".concat(n?"animate-spin":"")})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,t.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"모듈 상태"})}),(0,t.jsx)(x,{available:a.available,label:a.available?"사용 가능":"사용 불가"})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,t.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"실행 모드"})}),(0,t.jsx)(x,{available:!a.fallbackMode,label:a.fallbackMode?"폴백 모드":"네이티브 모드"})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"버전"}),(0,t.jsx)("span",{className:"text-sm text-gray-900",children:a.version})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"마지막 확인"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:new Date(a.timestamp).toLocaleTimeString()})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:"기능별 상태"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,t.jsx)(m,{icon:(0,t.jsx)(T.A,{className:"w-4 h-4 text-blue-500"}),title:"메모리 최적화",available:a.features.memory,description:"네이티브 메모리 관리 및 최적화 기능"}),(0,t.jsx)(m,{icon:(0,t.jsx)(M.A,{className:"w-4 h-4 text-purple-500"}),title:"GPU 가속",available:a.features.gpu,description:"GPU를 활용한 타이핑 분석 가속화"}),(0,t.jsx)(m,{icon:(0,t.jsx)(I.A,{className:"w-4 h-4 text-green-500"}),title:"워커 스레드",available:a.features.worker,description:"백그라운드 작업 처리를 위한 워커 스레드"})]})]}),a.loadError&&(0,t.jsxs)("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(G.A,{className:"w-4 h-4 text-yellow-600"}),(0,t.jsx)("span",{className:"text-sm font-medium text-yellow-800",children:"로드 오류"})]}),(0,t.jsx)("p",{className:"text-xs text-yellow-700 mt-1",children:a.loadError})]})]}):(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 ".concat(s),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(w.A,{className:"w-5 h-5 text-gray-500"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"네이티브 모듈 상태"})]}),(0,t.jsx)("div",{className:"text-center py-4 text-gray-500",children:(0,t.jsx)("p",{children:"네이티브 모듈 정보를 가져올 수 없습니다"})})]})};const R=a(381),O=a(40133),z=a(14738),W=a(93509),B=a(62098),K=a(74311),_=a(91981),H=a(92657),J=a(23861);const V={enableWPMDisplay:!0,enableAccuracyDisplay:!0,enableRealTimeStats:!0,enableTypingSound:!1,enableKeyboardShortcuts:!0,enableGPUAcceleration:!0,gpuAccelerationLevel:1,enableGPUFallback:!0,enableMemoryOptimization:!0,enableBackgroundCleanup:!0,memoryCleanupInterval:3e5,memoryThreshold:80,enableSystemMonitoring:!0,enablePerformanceLogging:!1,monitoringInterval:1e3,enableCPUMonitoring:!0,enableMemoryMonitoring:!0,enableDiskMonitoring:!1,theme:"system",windowMode:"windowed",enableAnimations:!0,enableNotifications:!0,fontSize:14,fontFamily:"system-ui",enableDataCollection:!0,enableAnalytics:!1,dataRetentionDays:30,enableAutoSave:!0,autoSaveInterval:1e4,enableDebugMode:!1,enableConsoleLogging:!0,enableErrorReporting:!0,logLevel:"info",enabledCategories:{docs:!0,office:!0,coding:!0,sns:!0},autoStartMonitoring:!0,resumeAfterIdle:!0,darkMode:!1,minimizeToTray:!0,showTrayNotifications:!0,reduceMemoryInBackground:!0,enableMiniView:!0,useHardwareAcceleration:!1,processingMode:"auto",maxMemoryThreshold:100};function q(e){let{onSave:s,initialSettings:a}=e,{settings:r,isLoading:n,error:c,saveSettings:i,resetSettings:d}=function(){const{isElectron:e,electronAPI:s}=function(){const[e,s]=(0,l.useState)(null),[a,t]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{const e=window&&window.process&&window.process.versions&&!!window.process.versions.electron;if(t(e),e){const e=window.electronAPI;e&&e.ipcRenderer?s(e):(console.warn("Electron API를 찾을 수 없습니다."),s(null))}else s(null)},[]),{isElectron:a,electronAPI:e}}(),[a,t]=(0,l.useState)(V),[r,n]=(0,l.useState)(!0),[c,i]=(0,l.useState)(null),d=(0,l.useCallback)(async()=>{n(!0),i(null);try{let a={};if(e&&(null==s?void 0:s.config))try{const e=await s.config.getAll();e.success&&(a=e.data)}catch(e){console.warn("Electron 설정 로드 실패, localStorage 사용:",e)}if(0===Object.keys(a).length){const e=localStorage.getItem("loop-settings");if(e)try{a=JSON.parse(e)}catch(e){console.warn("localStorage 설정 파싱 실패:",e)}}const l={...V,...a};t(l)}catch(e){i(e instanceof Error?e.message:"설정 로드 실패"),console.error("설정 로드 중 오류:",e)}finally{n(!1)}},[e,s]),o=(0,l.useCallback)(async l=>{const r={...a,...l};t(r);try{if(e&&(null==s?void 0:s.config))try{await s.config.setMultiple(l)}catch(e){console.warn("Electron 설정 저장 실패, localStorage 사용:",e)}localStorage.setItem("loop-settings",JSON.stringify(r))}catch(e){i(e instanceof Error?e.message:"설정 저장 실패"),console.error("설정 저장 중 오류:",e)}},[a,e,s]),x=(0,l.useCallback)(async()=>{t(V);try{if(e&&(null==s?void 0:s.config))try{await s.config.reset()}catch(e){console.warn("Electron 설정 리셋 실패:",e)}localStorage.removeItem("loop-settings")}catch(e){i(e instanceof Error?e.message:"설정 리셋 실패"),console.error("설정 리셋 중 오류:",e)}},[e,s]),m=(0,l.useCallback)((e,s)=>{o({[e]:s})},[o]),g=(0,l.useCallback)(()=>{m("theme","light"===a.theme?"dark":"dark"===a.theme?"system":"light")},[a.theme,m]),h=(0,l.useCallback)(()=>{m("enableGPUAcceleration",!a.enableGPUAcceleration)},[a.enableGPUAcceleration,m]),u=(0,l.useCallback)(()=>{const e=!a.darkMode;m("darkMode",e),m("theme",e?"dark":"light")},[a.darkMode,m]);return(0,l.useEffect)(()=>{d()},[d]),{settings:a,isLoading:r,error:c,loadSettings:d,saveSettings:o,resetSettings:x,updateSetting:m,toggleTheme:g,toggleGPUAcceleration:h,toggleDarkMode:u,darkMode:a.darkMode,setDarkMode:e=>m("darkMode",e),getTypingSettings:()=>({enableWPMDisplay:a.enableWPMDisplay,enableAccuracyDisplay:a.enableAccuracyDisplay,enableRealTimeStats:a.enableRealTimeStats,enableTypingSound:a.enableTypingSound,enableKeyboardShortcuts:a.enableKeyboardShortcuts}),getGPUSettings:()=>({enableGPUAcceleration:a.enableGPUAcceleration,gpuAccelerationLevel:a.gpuAccelerationLevel,enableGPUFallback:a.enableGPUFallback}),getMemorySettings:()=>({enableMemoryOptimization:a.enableMemoryOptimization,enableBackgroundCleanup:a.enableBackgroundCleanup,memoryCleanupInterval:a.memoryCleanupInterval,memoryThreshold:a.memoryThreshold}),getSystemSettings:()=>({enableSystemMonitoring:a.enableSystemMonitoring,enablePerformanceLogging:a.enablePerformanceLogging,monitoringInterval:a.monitoringInterval,enableCPUMonitoring:a.enableCPUMonitoring,enableMemoryMonitoring:a.enableMemoryMonitoring,enableDiskMonitoring:a.enableDiskMonitoring}),getUISettings:()=>({theme:a.theme,windowMode:a.windowMode,enableAnimations:a.enableAnimations,enableNotifications:a.enableNotifications,fontSize:a.fontSize,fontFamily:a.fontFamily}),getDataSettings:()=>({enableDataCollection:a.enableDataCollection,enableAnalytics:a.enableAnalytics,dataRetentionDays:a.dataRetentionDays,enableAutoSave:a.enableAutoSave,autoSaveInterval:a.autoSaveInterval}),getDeveloperSettings:()=>({enableDebugMode:a.enableDebugMode,enableConsoleLogging:a.enableConsoleLogging,enableErrorReporting:a.enableErrorReporting,logLevel:a.logLevel})}}(),[x,m]=(0,l.useState)(!1),[g,h]=(0,l.useState)(!1),[u,b]=(0,l.useState)(r);(0,l.useEffect)(()=>{b(r)},[r]),(0,l.useEffect)(()=>{a&&b(a)},[a]);const p=(e,s)=>{b(a=>({...a,enabledCategories:{...a.enabledCategories,[e]:s}}))},y=e=>{b(s=>({...s,processingMode:e})),("gpu-intensive"===e||"cpu-intensive"===e)&&m(!0)},j=async()=>{try{await i(u),h(!0),setTimeout(()=>h(!1),2e3),null==s||s(u)}catch(e){console.error("설정 저장 실패:",e)}},f=async()=>{try{await d(),b(r),m(!1)}catch(e){console.error("설정 초기화 실패:",e)}},N=e=>{b(s=>({...s,windowMode:e}))};return n?(0,t.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c?(0,t.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,t.jsxs)("p",{className:"text-red-600",children:["설정을 불러오는 중 오류가 발생했습니다: ",c]})}):(0,t.jsxs)("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(R.A,{className:"h-6 w-6 text-blue-600"}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"설정"})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)("button",{onClick:f,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors flex items-center space-x-2",children:[(0,t.jsx)(O.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"초기화"})]}),(0,t.jsxs)("button",{onClick:j,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[(0,t.jsx)(o.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"저장"})]})]})]}),g&&(0,t.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,t.jsx)("p",{className:"text-green-600 font-medium",children:"설정이 성공적으로 저장되었습니다!"})}),x&&(0,t.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,t.jsx)("p",{className:"text-yellow-600 font-medium",children:"일부 설정을 적용하려면 애플리케이션을 다시 시작해야 합니다."})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg border p-6 space-y-4",children:[(0,t.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2",children:[(0,t.jsx)(z.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"일반 설정"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[u.darkMode?(0,t.jsx)(W.A,{className:"h-4 w-4"}):(0,t.jsx)(B.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"다크 모드"})]}),(0,t.jsx)("button",{onClick:()=>{b(e=>({...e,darkMode:!e.darkMode}))},className:"w-12 h-6 rounded-full p-1 transition-colors ".concat(u.darkMode?"bg-blue-600":"bg-gray-300"),children:(0,t.jsx)("div",{className:"w-4 h-4 rounded-full bg-white transition-transform ".concat(u.darkMode?"translate-x-6":"translate-x-0")})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"창 모드"}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-2",children:["windowed","fullscreen","fullscreen-auto-hide"].map(e=>(0,t.jsx)("button",{onClick:()=>N(e),className:"p-2 text-left rounded border transition-colors ".concat(u.windowMode===e?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"),children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:["windowed"===e&&(0,t.jsx)(K.A,{className:"h-4 w-4"}),"fullscreen"===e&&(0,t.jsx)(_.A,{className:"h-4 w-4"}),"fullscreen-auto-hide"===e&&(0,t.jsx)(H.A,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:["windowed"===e&&"창 모드","fullscreen"===e&&"전체 화면","fullscreen-auto-hide"===e&&"전체 화면 (자동 숨김)"]})]})},e))})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"애니메이션 효과"}),(0,t.jsx)("button",{onClick:()=>b(e=>({...e,enableAnimations:!e.enableAnimations})),className:"w-12 h-6 rounded-full p-1 transition-colors ".concat(u.enableAnimations?"bg-blue-600":"bg-gray-300"),children:(0,t.jsx)("div",{className:"w-4 h-4 rounded-full bg-white transition-transform ".concat(u.enableAnimations?"translate-x-6":"translate-x-0")})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(J.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"알림 활성화"})]}),(0,t.jsx)("button",{onClick:()=>b(e=>({...e,enableNotifications:!e.enableNotifications})),className:"w-12 h-6 rounded-full p-1 transition-colors ".concat(u.enableNotifications?"bg-blue-600":"bg-gray-300"),children:(0,t.jsx)("div",{className:"w-4 h-4 rounded-full bg-white transition-transform ".concat(u.enableNotifications?"translate-x-6":"translate-x-0")})})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border p-6 space-y-4",children:[(0,t.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2",children:[(0,t.jsx)(I.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"성능 설정"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(M.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"GPU 가속"})]}),(0,t.jsx)("button",{onClick:()=>b(e=>({...e,enableGPUAcceleration:!e.enableGPUAcceleration})),className:"w-12 h-6 rounded-full p-1 transition-colors ".concat(u.enableGPUAcceleration?"bg-blue-600":"bg-gray-300"),children:(0,t.jsx)("div",{className:"w-4 h-4 rounded-full bg-white transition-transform ".concat(u.enableGPUAcceleration?"translate-x-6":"translate-x-0")})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(w.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"메모리 최적화"})]}),(0,t.jsx)("button",{onClick:()=>b(e=>({...e,enableMemoryOptimization:!e.enableMemoryOptimization})),className:"w-12 h-6 rounded-full p-1 transition-colors ".concat(u.enableMemoryOptimization?"bg-blue-600":"bg-gray-300"),children:(0,t.jsx)("div",{className:"w-4 h-4 rounded-full bg-white transition-transform ".concat(u.enableMemoryOptimization?"translate-x-6":"translate-x-0")})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"처리 모드"}),(0,t.jsxs)("select",{value:u.processingMode,onChange:e=>y(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"auto",children:"자동"}),(0,t.jsx)("option",{value:"normal",children:"일반"}),(0,t.jsx)("option",{value:"cpu-intensive",children:"CPU 집약적"}),(0,t.jsx)("option",{value:"gpu-intensive",children:"GPU 집약적"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"text-sm font-medium text-gray-700",children:["최대 메모리 임계값: ",u.maxMemoryThreshold,"MB"]}),(0,t.jsx)("input",{type:"range",min:"100",max:"2048",step:"50",value:u.maxMemoryThreshold,onChange:e=>b(s=>({...s,maxMemoryThreshold:parseInt(e.target.value)})),className:"w-full"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border p-6 space-y-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"타이핑 분석"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"분석 카테고리"}),(0,t.jsx)("div",{className:"space-y-2",children:Object.entries(u.enabledCategories).map(e=>{const[s,a]=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"capitalize",children:["docs"===s&&"문서","office"===s&&"오피스","coding"===s&&"코딩","sns"===s&&"SNS"]}),(0,t.jsx)("button",{onClick:()=>p(s,!a),className:"w-12 h-6 rounded-full p-1 transition-colors ".concat(a?"bg-blue-600":"bg-gray-300"),children:(0,t.jsx)("div",{className:"w-4 h-4 rounded-full bg-white transition-transform ".concat(a?"translate-x-6":"translate-x-0")})})]},s)})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"실시간 통계 표시"}),(0,t.jsx)("button",{onClick:()=>b(e=>({...e,enableRealTimeStats:!e.enableRealTimeStats})),className:"w-12 h-6 rounded-full p-1 transition-colors ".concat(u.enableRealTimeStats?"bg-blue-600":"bg-gray-300"),children:(0,t.jsx)("div",{className:"w-4 h-4 rounded-full bg-white transition-transform ".concat(u.enableRealTimeStats?"translate-x-6":"translate-x-0")})})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border p-6 space-y-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"데이터 및 개인정보"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"데이터 수집 허용"}),(0,t.jsx)("button",{onClick:()=>b(e=>({...e,enableDataCollection:!e.enableDataCollection})),className:"w-12 h-6 rounded-full p-1 transition-colors ".concat(u.enableDataCollection?"bg-blue-600":"bg-gray-300"),children:(0,t.jsx)("div",{className:"w-4 h-4 rounded-full bg-white transition-transform ".concat(u.enableDataCollection?"translate-x-6":"translate-x-0")})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"자동 저장"}),(0,t.jsx)("button",{onClick:()=>b(e=>({...e,enableAutoSave:!e.enableAutoSave})),className:"w-12 h-6 rounded-full p-1 transition-colors ".concat(u.enableAutoSave?"bg-blue-600":"bg-gray-300"),children:(0,t.jsx)("div",{className:"w-4 h-4 rounded-full bg-white transition-transform ".concat(u.enableAutoSave?"translate-x-6":"translate-x-0")})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"text-sm font-medium text-gray-700",children:["데이터 보관 기간: ",u.dataRetentionDays,"일"]}),(0,t.jsx)("input",{type:"range",min:"7",max:"365",step:"7",value:u.dataRetentionDays,onChange:e=>b(s=>({...s,dataRetentionDays:parseInt(e.target.value)})),className:"w-full"})]})]})]})]})]})}const Q=e=>{let{className:s="",autoRefresh:a=!0,refreshInterval:r=3e3}=e,[n,c]=(0,l.useState)(null),[i,d]=(0,l.useState)(null),[o,x]=(0,l.useState)([]),[m,g]=(0,l.useState)(!1),[h,u]=(0,l.useState)(null),[b,p]=(0,l.useState)(null),y=(0,l.useCallback)(async()=>{try{if(g(!0),u(null),window.electronAPI){const e=await window.electronAPI.system.getInfo();if(e.success&&e.data)c(e.data);else throw Error(e.error||"시스템 정보를 가져올 수 없습니다");const s=await window.electronAPI.memory.getInfo();s.success&&s.data&&d(s.data.system);const a=await window.electronAPI.system.getLoopProcesses();a.success&&a.data&&x(a.data)}}catch(e){console.error("시스템 정보 가져오기 실패:",e),u(e instanceof Error?e.message:"알 수 없는 오류")}finally{g(!1)}},[]);(0,l.useEffect)(()=>{if(y(),a){const e=setInterval(y,r);return()=>clearInterval(e)}},[y,a,r]);const j=e=>e>=1024?"".concat((e/1024).toFixed(1)," GB"):"".concat(e.toFixed(1)," MB"),f=e=>e>=80?"text-red-500":e>=60?"text-yellow-500":"text-green-500",N=e=>e>=80?"bg-red-500":e>=60?"bg-yellow-500":"bg-green-500",v=e=>e.toLowerCase().includes("main")?(0,t.jsx)(I.A,{className:"w-3 h-3"}):e.toLowerCase().includes("renderer")?(0,t.jsx)(z.A,{className:"w-3 h-3"}):e.toLowerCase().includes("gpu")?(0,t.jsx)(M.A,{className:"w-3 h-3"}):(0,t.jsx)(w.A,{className:"w-3 h-3"}),k=e=>e.toLowerCase().includes("main")?"text-blue-500":e.toLowerCase().includes("renderer")?"text-green-500":e.toLowerCase().includes("gpu")?"text-purple-500":"text-gray-500";return(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 ".concat(s),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(w.A,{className:"w-5 h-5 text-blue-500"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"활성 상태 모니터"}),m&&(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-500 border-t-transparent"})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("button",{onClick:y,disabled:m,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:"새로고침",children:(0,t.jsx)(S.A,{className:"w-4 h-4 ".concat(m?"animate-spin":"")})})})]}),h&&(0,t.jsxs)("div",{className:"m-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2",children:[(0,t.jsx)(P.A,{className:"w-4 h-4 text-red-500"}),(0,t.jsx)("span",{className:"text-sm text-red-700",children:h})]}),n?(0,t.jsxs)("div",{className:"p-4 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(I.A,{className:"w-4 h-4 text-blue-500"}),(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:"CPU"}),(0,t.jsxs)("span",{className:"text-sm font-semibold ".concat(f(n.cpu.usage)),children:[n.cpu.usage.toFixed(1),"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:(0,t.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(N(n.cpu.usage)),style:{width:"".concat(Math.min(n.cpu.usage,100),"%")}})}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[n.cpu.cores,"코어 • ",n.cpu.model]})]}),i&&(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(A.A,{className:"w-4 h-4 text-green-500"}),(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:"메모리"}),(0,t.jsxs)("span",{className:"text-sm font-semibold ".concat(f(i.percentage)),children:[i.percentage.toFixed(1),"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:(0,t.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(N(i.percentage)),style:{width:"".concat(Math.min(i.percentage,100),"%")}})}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[j(i.used)," / ",j(i.total)," 사용됨"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Loop 프로세스"}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4 p-3 text-xs font-medium text-gray-500 border-b border-gray-200",children:[(0,t.jsx)("div",{children:"프로세스"}),(0,t.jsx)("div",{className:"text-right",children:"PID"}),(0,t.jsx)("div",{className:"text-right",children:"CPU"}),(0,t.jsx)("div",{className:"text-right",children:"메모리"})]}),(0,t.jsx)("div",{className:"max-h-60 overflow-y-auto",children:o.length>0?o.map(e=>(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4 p-3 text-sm hover:bg-white cursor-pointer transition-colors ".concat((null==b?void 0:b.pid)===e.pid?"bg-blue-50 border-l-2 border-blue-500":""),onClick:()=>p(e),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:k(e.name),children:v(e.name)}),(0,t.jsx)("span",{className:"truncate",children:e.name})]}),(0,t.jsx)("div",{className:"text-right text-gray-500",children:e.pid}),(0,t.jsxs)("div",{className:"text-right ".concat(f(e.cpuUsage)),children:[e.cpuUsage.toFixed(1),"%"]}),(0,t.jsx)("div",{className:"text-right font-medium",children:j(e.memoryUsage)})]},e.pid)):(0,t.jsx)("div",{className:"p-4 text-center text-gray-500 text-sm",children:"Loop 프로세스를 찾을 수 없습니다"})})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"시스템 정보"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"업타임"}),(0,t.jsx)("div",{className:"font-medium",children:(e=>{const s=Math.floor(e/60),a=Math.floor(s/60),t=Math.floor(a/24);return t>0?"".concat(t,"일 ").concat(a%24,"시간"):a>0?"".concat(a,"시간 ").concat(s%60,"분"):"".concat(s,"분 ").concat(e%60,"초")})(n.uptime)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"플랫폼"}),(0,t.jsx)("div",{className:"font-medium",children:n.platform})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"아키텍처"}),(0,t.jsx)("div",{className:"font-medium",children:n.arch})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"호스트명"}),(0,t.jsx)("div",{className:"font-medium",children:n.hostname})]}),i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"총 메모리"}),(0,t.jsx)("div",{className:"font-medium",children:j(i.total)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"여유 메모리"}),(0,t.jsx)("div",{className:"font-medium text-green-600",children:j(i.free)})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"로드 평균"}),(0,t.jsx)("div",{className:"font-medium",children:n.loadAverage.map(e=>e.toFixed(2)).join(", ")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"CPU 속도"}),(0,t.jsxs)("div",{className:"font-medium",children:[n.cpu.speed," MHz"]})]})]})]}),b&&(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-medium text-blue-900 mb-3",children:"프로세스 상세 정보"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-blue-600",children:"이름"}),(0,t.jsx)("div",{className:"font-medium",children:b.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-blue-600",children:"PID"}),(0,t.jsx)("div",{className:"font-medium",children:b.pid})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-blue-600",children:"CPU 사용률"}),(0,t.jsxs)("div",{className:"font-medium",children:[b.cpuUsage.toFixed(1),"%"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-blue-600",children:"메모리 사용량"}),(0,t.jsx)("div",{className:"font-medium",children:j(b.memoryUsage)})]}),b.ppid&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-blue-600",children:"부모 PID"}),(0,t.jsx)("div",{className:"font-medium",children:b.ppid})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-blue-600",children:"상태"}),(0,t.jsx)("div",{className:"font-medium",children:b.status})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-blue-600",children:"메모리 비율"}),(0,t.jsxs)("div",{className:"font-medium",children:[b.memoryPercent.toFixed(1),"%"]})]}),b.user&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-blue-600",children:"사용자"}),(0,t.jsx)("div",{className:"font-medium",children:b.user})]})]})]})]}):(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)(w.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,t.jsx)("p",{children:"시스템 정보를 불러오는 중..."})]})]})},X=()=>{const e=document.createElement("style");e.textContent='\n    body {\n      background-color: var(--background-color);\n      color: var(--text-color);\n    }\n    :root {\n      --background-color: #f9f9f9;\n      --text-color: #333;\n      --primary-color: #0070f3;\n      --text-secondary: #666;\n      --border-color: #e0e0e0;\n      --card-bg: #ffffff;\n      --header-bg: #ffffff;\n      --footer-bg: #f0f0f0;\n    }\n    .dark-mode, [data-theme="dark"] {\n      --background-color: #121212;\n      --text-color: #e0e0e0;\n      --text-secondary: #a0a0a0;\n      --border-color: #333;\n      --card-bg: #1e1e1e;\n      --header-bg: #1e1e1e;\n      --footer-bg: #121212;\n    }\n  ',document.head.appendChild(e);const s=document.createElement("link");s.rel="stylesheet",s.href="/assets/fonts/font.css",document.head.appendChild(s);const a=document.createElement("link");a.rel="stylesheet",a.href="/assets/styles/electron-styles.css",document.head.appendChild(a),window.matchMedia("(prefers-color-scheme: dark)").matches&&document.documentElement.classList.add("dark-mode"),console.log("Loop CSS 변수 및 스타일 초기화 완료"),setTimeout(()=>{const e=getComputedStyle(document.body).backgroundColor;console.log("현재 body 배경색: ".concat(e))},1e3)};const Y=a(57340),Z=a(54213),$=a(54416),ee=a(74783);function es(){const[e,s]=(0,l.useState)("home"),[a,r]=(0,l.useState)([]),[n,i]=(0,l.useState)(!1),[d,o]=(0,l.useState)(!0);(0,l.useEffect)(()=>{m(),X()},[]);const m=async()=>{try{i(!0);const e=await fetch("/api/getLogs"),s=await e.json();s.success&&r(s.data.logs||[])}catch(e){console.error("로그 로드 오류:",e)}finally{i(!1)}},g=async e=>{try{const s=await fetch("/api/logs/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,totalChars:e.content.length})}),a=await s.json();a.success&&r(e=>[a.data,...e])}catch(e){console.error("로그 저장 오류:",e)}},h=[{id:"home",label:"홈",icon:Y.A},{id:"stats",label:"통계",icon:c.A},{id:"analysis",label:"분석",icon:w.A},{id:"memory",label:"메모리",icon:I.A},{id:"activity",label:"활성 상태",icon:z.A},{id:"system",label:"시스템",icon:Z.A},{id:"settings",label:"설정",icon:R.A}];return(0,t.jsxs)("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-950",children:[(0,t.jsxs)("div",{className:"".concat(d?"w-64":"w-16"," bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 transition-all duration-300 flex flex-col"),children:[(0,t.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[d&&(0,t.jsx)("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Loop 6"}),(0,t.jsx)("button",{onClick:()=>o(!d),className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:d?(0,t.jsx)($.A,{className:"w-4 h-4"}):(0,t.jsx)(ee.A,{className:"w-4 h-4"})})]})}),(0,t.jsx)("nav",{className:"flex-1 p-4",children:(0,t.jsx)("ul",{className:"space-y-2",children:h.map(a=>{const l=a.icon;return(0,t.jsx)("li",{children:(0,t.jsxs)("button",{onClick:()=>s(a.id),className:"w-full flex items-center gap-3 px-3 py-2 rounded-md transition-colors ".concat(e===a.id?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),title:d?void 0:a.label,children:[(0,t.jsx)(l,{className:"w-5 h-5 flex-shrink-0"}),d&&(0,t.jsx)("span",{className:"text-sm font-medium",children:a.label})]})},a.id)})})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,t.jsx)("div",{className:"h-full overflow-auto p-6",children:n?(0,t.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,t.jsx)("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"로딩 중..."})]}):(()=>{switch(e){case"home":return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Loop 6 - 타이핑 분석 시스템"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"실시간 타이핑 분석, GPU 가속, 메모리 최적화를 지원하는 고성능 데스크톱 애플리케이션입니다."})]}),(0,t.jsx)(x,{onComplete:g}),a.length>0&&(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"최근 기록"}),(0,t.jsx)("div",{className:"space-y-2",children:a.slice(0,5).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-md",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-900 dark:text-gray-100 truncate",children:[e.content.substring(0,50),"..."]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-1 text-xs text-gray-500 dark:text-gray-400",children:[(0,t.jsxs)("span",{children:["타자: ",e.keyCount]}),(0,t.jsxs)("span",{children:["시간: ",e.typingTime,"초"]}),(0,t.jsxs)("span",{children:["타수: ",e.typingTime>0?Math.round(e.keyCount/e.typingTime*60):0,"타/분"]})]})]}),(0,t.jsx)("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:new Date(e.timestamp).toLocaleString()})]},e.id||s))})]})]});case"stats":return(0,t.jsx)(C,{logs:a});case"analysis":return(0,t.jsx)(U,{});case"memory":return(0,t.jsx)(E,{});case"activity":return(0,t.jsx)(Q,{});case"system":return(0,t.jsx)(F,{});case"settings":return(0,t.jsx)(q,{});default:return(0,t.jsx)("div",{children:"페이지를 찾을 수 없습니다."})}})()})})]})}}},e=>{const s=s=>e(e.s=s);e.O(0,[923,441,684,358],()=>s(48796)),_N_E=e.O()}]);