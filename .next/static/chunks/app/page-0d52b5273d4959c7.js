(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{39810:(e,s,t)=>{"use strict";t.d(s,{t:()=>l});var a=t(12115);let r={enableWPMDisplay:!0,enableAccuracyDisplay:!0,enableRealTimeStats:!0,enableTypingSound:!1,enableKeyboardShortcuts:!0,enableGPUAcceleration:!0,gpuAccelerationLevel:1,enableGPUFallback:!0,enableMemoryOptimization:!0,enableBackgroundCleanup:!0,memoryCleanupInterval:3e5,memoryThreshold:80,enableSystemMonitoring:!0,enablePerformanceLogging:!1,monitoringInterval:1e3,enableCPUMonitoring:!0,enableMemoryMonitoring:!0,enableDiskMonitoring:!1,theme:"system",windowMode:"windowed",enableAnimations:!0,enableNotifications:!0,fontSize:14,fontFamily:"system-ui",enableDataCollection:!0,enableAnalytics:!1,dataRetentionDays:30,enableAutoSave:!0,autoSaveInterval:1e4,enableDebugMode:!1,enableConsoleLogging:!0,enableErrorReporting:!0,logLevel:"info",enabledCategories:{docs:!0,office:!0,coding:!0,sns:!0},autoStartMonitoring:!0,resumeAfterIdle:!0,darkMode:!1,minimizeToTray:!0,showTrayNotifications:!0,reduceMemoryInBackground:!0,enableMiniView:!0,useHardwareAcceleration:!1,processingMode:"auto",maxMemoryThreshold:100};function l(){let{isElectron:e,electronAPI:s}=function(){let[e,s]=(0,a.useState)(null),[t,r]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=window&&window.process&&window.process.versions&&!!window.process.versions.electron;if(r(e),e){let e=window.electronAPI;e&&e.ipcRenderer?s(e):(console.warn("Electron API를 찾을 수 없습니다."),s(null))}else s(null)},[]),{isElectron:t,electronAPI:e}}(),[t,l]=(0,a.useState)(r),[n,i]=(0,a.useState)(!0),[c,o]=(0,a.useState)(null),d=(0,a.useCallback)(async()=>{console.debug("\uD83D\uDCE5 useSettings: 설정 로드 시작"),i(!0),o(null);try{if(console.debug("\uD83D\uDD0D useSettings: Electron 환경:",e),console.debug("\uD83D\uDD0D useSettings: electronAPI 존재:",!!s),e&&s&&s.ipcRenderer){console.debug("\uD83D\uDD0C useSettings: Electron IPC를 통해 설정 로드");try{let e=await s.ipcRenderer.invoke("settings:get");console.debug("✅ useSettings: 설정 로드 성공:",e),e&&"object"==typeof e?l({...r,...e}):(console.warn("⚠️ useSettings: 로드된 설정이 유효하지 않음, 기본값 사용"),l(r))}catch(e){console.error("❌ useSettings: IPC 설정 로드 실패:",e),o("설정 로드 실패: ".concat(e)),l(r)}}else{console.debug("\uD83C\uDF10 useSettings: 웹 환경에서 localStorage 사용");try{let e=localStorage.getItem("loop-settings");if(e){let s=JSON.parse(e);console.debug("✅ useSettings: localStorage에서 설정 로드:",s),l({...r,...s})}else console.debug("\uD83D\uDCDD useSettings: localStorage에 설정 없음, 기본값 사용"),l(r)}catch(e){console.error("❌ useSettings: localStorage 설정 로드 실패:",e),o("설정 로드 실패: ".concat(e)),l(r)}}}catch(e){console.error("❌ useSettings: 설정 로드 중 예외 발생:",e),o("설정 로드 실패: ".concat(e)),l(r)}finally{i(!1),console.debug("\uD83C\uDFC1 useSettings: 설정 로드 완료")}},[e,s]),x=(0,a.useCallback)(async a=>{console.debug("\uD83D\uDCBE useSettings: 설정 저장 시작",a);let r={...t,...a};l(r);try{if(e&&s&&s.ipcRenderer){console.debug("\uD83D\uDD0C useSettings: Electron IPC를 통해 설정 저장");try{let e=await s.ipcRenderer.invoke("settings:update-multiple",a);if(console.debug("✅ useSettings: Electron 설정 저장 결과:",e),!e)throw Error("Electron 설정 저장 실패")}catch(e){console.error("❌ useSettings: Electron 설정 저장 실패:",e)}}else console.debug("\uD83C\uDF10 useSettings: 웹 환경에서 localStorage에 저장");try{localStorage.setItem("loop-settings",JSON.stringify(r)),console.debug("✅ useSettings: localStorage 저장 완료")}catch(e){console.error("❌ useSettings: localStorage 저장 실패:",e)}console.debug("\uD83C\uDFC1 useSettings: 설정 저장 완료")}catch(e){o(e instanceof Error?e.message:"설정 저장 실패"),console.error("❌ useSettings: 설정 저장 중 오류:",e)}},[t,e,s]),m=(0,a.useCallback)(async()=>{console.debug("\uD83D\uDD04 useSettings: 설정 리셋 시작"),l(r);try{if(e&&s&&s.ipcRenderer)try{let e=await s.ipcRenderer.invoke("settings:reset");console.debug("✅ useSettings: Electron 설정 리셋 결과:",e)}catch(e){console.warn("⚠️ useSettings: Electron 설정 리셋 실패:",e)}localStorage.removeItem("loop-settings"),console.debug("✅ useSettings: localStorage 설정 제거 완료")}catch(e){o(e instanceof Error?e.message:"설정 리셋 실패"),console.error("❌ useSettings: 설정 리셋 중 오류:",e)}},[e,s]),u=(0,a.useCallback)((e,s)=>{console.debug("\uD83D\uDD27 useSettings: 개별 설정 업데이트 - ".concat(String(e),":"),s),x({[e]:s})},[x]),h=(0,a.useCallback)(()=>{let e="light"===t.theme?"dark":"dark"===t.theme?"system":"light";console.debug("\uD83C\uDFA8 useSettings: 테마 변경",t.theme,"->",e),u("theme",e)},[t.theme,u]),g=(0,a.useCallback)(()=>{console.debug("\uD83C\uDF19 useSettings: 다크모드 토글",!t.darkMode),u("darkMode",!t.darkMode)},[t.darkMode,u]),b=(0,a.useCallback)(()=>{console.debug("⚡ useSettings: GPU 가속 토글",!t.enableGPUAcceleration),u("enableGPUAcceleration",!t.enableGPUAcceleration)},[t.enableGPUAcceleration,u]);return(0,a.useEffect)(()=>{console.debug("\uD83D\uDD04 useSettings: 컴포넌트 마운트, 설정 로드 시작"),d()},[d]),{settings:t,isLoading:n,error:c,saveSettings:x,resetSettings:m,updateSetting:u,loadSettings:d,toggleTheme:h,toggleDarkMode:g,toggleGPUAcceleration:b,darkMode:t.darkMode,getGPUSettings:()=>({enableGPUAcceleration:t.enableGPUAcceleration,gpuAccelerationLevel:t.gpuAccelerationLevel,enableGPUFallback:t.enableGPUFallback}),getMemorySettings:()=>({enableMemoryOptimization:t.enableMemoryOptimization,enableBackgroundCleanup:t.enableBackgroundCleanup,memoryThreshold:t.memoryThreshold,monitoringInterval:t.monitoringInterval}),getSystemSettings:()=>({enableSystemMonitoring:t.enableSystemMonitoring,enableCPUMonitoring:t.enableCPUMonitoring,enableMemoryMonitoring:t.enableMemoryMonitoring,enableDiskMonitoring:t.enableDiskMonitoring})}}},43938:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>ed});var a=t(95155),r=t(12115),l=t(57434),n=t(93500),i=t(72713),c=t(16785),o=t(46561),d=t(4229);function x(e){let{onComplete:s}=e,t=(0,r.useRef)(null),[x,m]=(0,r.useState)(0),[u,h]=(0,r.useState)(0),[g,b]=(0,r.useState)({pages:0,words:0,charCount:0,charCountNoSpace:0,accuracy:100}),p=(0,r.useRef)(null),j=(0,r.useRef)(null),y=(0,r.useRef)(!1),f=(0,r.useRef)(0),N=(0,r.useCallback)(()=>{var e;if(!t.current)return;let s=null!=(e=t.current.textContent)?e:"",a=s.trim().length>0?s.trim().split(/\s+/).length:0,r=s.length,l=s.replace(/\s/g,"").length;b({pages:Math.max(1,Math.ceil(r/600)),words:a,charCount:r,charCountNoSpace:l,accuracy:f.current>0?Math.round(u/f.current*100):100})},[u]),v=(0,r.useCallback)(()=>{j.current&&(clearInterval(j.current),j.current=null)},[]),w=(0,r.useCallback)(()=>{j.current&&clearInterval(j.current),j.current=setInterval(()=>{m(e=>e+1)},1e3),p.current&&clearTimeout(p.current),p.current=setTimeout(v,3e3)},[v]),k=(0,r.useCallback)(e=>{if(1===e.key.length||" "===e.key||"Enter"===e.key){let s=/[가-힣]/.test(e.key)?2:1;h(e=>e+s),f.current+=s,w(),N()}},[w,N]),C=(0,r.useCallback)(e=>{y.current=!0;let s=0;for(let t of e.data)/[가-힣]/.test(t)?s+=2:(/[ㄱ-ㅎ|ㅏ-ㅣ]/.test(t),s+=1);h(e=>e+s),f.current+=s,w(),N()},[w,N]),S=(0,r.useCallback)(e=>{if(y.current){y.current=!1;return}if(e.data){let s=0;for(let t of e.data)/[가-힣]/.test(t)?s+=2:s+=1;h(e=>e+s),f.current+=s,w(),N()}},[w,N]),A=async()=>{var e;t.current&&(s({content:null!=(e=t.current.textContent)?e:"",keyCount:u,typingTime:x,timestamp:new Date().toISOString()}),t.current&&(t.current.textContent=""),h(0),m(0),f.current=0,N())};return(0,r.useEffect)(()=>()=>{j.current&&clearInterval(j.current),p.current&&clearTimeout(p.current)},[]),(0,a.jsxs)("div",{className:"w-full h-full flex flex-col bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 rounded-t-lg",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(l.A,{className:"w-4 h-4 text-blue-500"}),(0,a.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["글자: ",g.charCount,"(",g.charCountNoSpace,")"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.A,{className:"w-4 h-4 text-green-500"}),(0,a.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["단어: ",g.words]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.A,{className:"w-4 h-4 text-purple-500"}),(0,a.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["페이지: ",g.pages]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"w-4 h-4 text-orange-500"}),(0,a.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["타자: ",u]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 text-red-500"}),(0,a.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["시간: ",x,"초"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.A,{className:"w-4 h-4 text-indigo-500"}),(0,a.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["타수: ",x>0?Math.round(u/x*60):0,"타/분"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"w-4 h-4 text-teal-500"}),(0,a.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:["정확도: ",g.accuracy,"%"]})]})]}),(0,a.jsxs)("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors duration-200 shadow-sm",children:[(0,a.jsx)(d.A,{className:"w-4 h-4"}),"저장"]})]}),"        ",(0,a.jsx)("div",{ref:t,className:"flex-1 p-6 outline-none resize-none bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 leading-relaxed text-base overflow-auto",contentEditable:!0,onKeyDown:k,onCompositionEnd:C,onInput:S,"data-placeholder":"여기에 타이핑을 시작하세요...",style:{minHeight:"300px",fontFamily:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',lineHeight:"1.6"}})]})}var m=t(83540),u=t(3401),h=t(94754),g=t(96025),b=t(16238),p=t(94517),j=t(24026),y=t(58227),f=t(93504),N=t(21374),v=t(69074),w=t(79397),k=t(14186);function C(e){let{logs:s}=e,[t,n]=(0,r.useState)("daily"),[c,o]=(0,r.useState)("keyCount"),[d,x]=(0,r.useState)("bar"),C=(0,r.useMemo)(()=>{if(!s||0===s.length)return[];if("daily"===t){let e={};return s.forEach(s=>{let t=new Date(s.timestamp).toLocaleDateString();e[t]||(e[t]={date:t,keyCount:0,typingTime:0,totalChars:0,sessions:0,averageWPM:0}),e[t].keyCount+=s.keyCount||0,e[t].typingTime+=s.typingTime||0,e[t].totalChars+=s.totalChars||0,e[t].sessions+=1}),Object.values(e).forEach(e=>{e.averageWPM=e.typingTime>0?Math.round(e.keyCount/e.typingTime*60):0}),Object.values(e).sort((e,s)=>new Date(e.date).getTime()-new Date(s.date).getTime())}{let e={};return s.forEach(s=>{let t=new Date(s.timestamp).getHours(),a="".concat(t,"시");e[a]||(e[a]={hour:a,keyCount:0,typingTime:0,totalChars:0,sessions:0,averageWPM:0}),e[a].keyCount+=s.keyCount||0,e[a].typingTime+=s.typingTime||0,e[a].totalChars+=s.totalChars||0,e[a].sessions+=1}),Object.values(e).forEach(e=>{e.averageWPM=e.typingTime>0?Math.round(e.keyCount/e.typingTime*60):0}),Object.values(e).sort((e,s)=>parseInt(e.hour)-parseInt(s.hour))}},[s,t]),S=e=>{switch(e){case"keyCount":default:return"타자수";case"typingTime":return"타이핑 시간(초)";case"totalChars":return"총 문자수"}},A=e=>{switch(e){case"keyCount":default:return"#3b82f6";case"typingTime":return"#10b981";case"totalChars":return"#f59e0b"}};return(0,a.jsxs)("div",{className:"w-full bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(i.A,{className:"w-6 h-6 text-blue-500"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"타이핑 통계 차트"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.A,{className:"w-4 h-4 text-gray-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"기간:"}),(0,a.jsxs)("div",{className:"flex rounded-md overflow-hidden border border-gray-300 dark:border-gray-600",children:[(0,a.jsx)("button",{className:"px-3 py-1 text-sm transition-colors ".concat("daily"===t?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>n("daily"),children:"일별"}),(0,a.jsx)("button",{className:"px-3 py-1 text-sm transition-colors border-l border-gray-300 dark:border-gray-600 ".concat("hourly"===t?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>n("hourly"),children:"시간별"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(w.A,{className:"w-4 h-4 text-gray-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"차트:"}),(0,a.jsxs)("div",{className:"flex rounded-md overflow-hidden border border-gray-300 dark:border-gray-600",children:[(0,a.jsx)("button",{className:"px-3 py-1 text-sm transition-colors ".concat("bar"===d?"bg-green-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>x("bar"),children:"막대"}),(0,a.jsx)("button",{className:"px-3 py-1 text-sm transition-colors border-l border-gray-300 dark:border-gray-600 ".concat("line"===d?"bg-green-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>x("line"),children:"선형"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(l.A,{className:"w-4 h-4 text-gray-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"데이터:"}),(0,a.jsxs)("div",{className:"flex rounded-md overflow-hidden border border-gray-300 dark:border-gray-600",children:[(0,a.jsx)("button",{className:"px-3 py-1 text-sm transition-colors ".concat("keyCount"===c?"bg-purple-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>o("keyCount"),children:"타자수"}),(0,a.jsx)("button",{className:"px-3 py-1 text-sm transition-colors border-l border-gray-300 dark:border-gray-600 ".concat("typingTime"===c?"bg-purple-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>o("typingTime"),children:"시간"}),(0,a.jsx)("button",{className:"px-3 py-1 text-sm transition-colors border-l border-gray-300 dark:border-gray-600 ".concat("totalChars"===c?"bg-purple-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>o("totalChars"),children:"문자수"})]})]})]})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"h-96",children:(0,a.jsx)(m.u,{width:"100%",height:"100%",children:"bar"===d?(0,a.jsxs)(u.E,{data:C,margin:{top:20,right:30,left:20,bottom:30},children:[(0,a.jsx)(h.d,{strokeDasharray:"3 3",className:"opacity-30"}),(0,a.jsx)(g.W,{dataKey:"daily"===t?"date":"hour",angle:-45,textAnchor:"end",height:70,className:"text-xs fill-gray-600 dark:fill-gray-400"}),(0,a.jsx)(b.h,{className:"text-xs fill-gray-600 dark:fill-gray-400"}),(0,a.jsx)(p.m,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),(0,a.jsx)(j.s,{}),(0,a.jsx)(y.y,{dataKey:c,name:S(c),fill:A(c),radius:[4,4,0,0]})]}):(0,a.jsxs)(f.b,{data:C,margin:{top:20,right:30,left:20,bottom:30},children:[(0,a.jsx)(h.d,{strokeDasharray:"3 3",className:"opacity-30"}),(0,a.jsx)(g.W,{dataKey:"daily"===t?"date":"hour",angle:-45,textAnchor:"end",height:70,className:"text-xs fill-gray-600 dark:fill-gray-400"}),(0,a.jsx)(b.h,{className:"text-xs fill-gray-600 dark:fill-gray-400"}),(0,a.jsx)(p.m,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),(0,a.jsx)(j.s,{}),(0,a.jsx)(N.N,{type:"monotone",dataKey:c,name:S(c),stroke:A(c),strokeWidth:2,dot:{fill:A(c),strokeWidth:2,r:4}})]})})})}),(0,a.jsxs)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"요약 통계"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(i.A,{className:"w-5 h-5 text-blue-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"총 타자수"})]}),(0,a.jsx)("span",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:s.reduce((e,s)=>e+(s.keyCount||0),0).toLocaleString()})]}),(0,a.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(k.A,{className:"w-5 h-5 text-green-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"총 시간"})]}),(0,a.jsx)("span",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:function(e){if(e<60)return"".concat(e,"초");let s=Math.floor(e/60),t=e%60;if(s<60)return"".concat(s,"분 ").concat(t,"초");let a=Math.floor(s/60);return"".concat(a,"시간 ").concat(s%60,"분 ").concat(t,"초")}(s.reduce((e,s)=>e+(s.typingTime||0),0))})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(l.A,{className:"w-5 h-5 text-yellow-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-yellow-700 dark:text-yellow-300",children:"총 문자수"})]}),(0,a.jsx)("span",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:s.reduce((e,s)=>e+(s.totalChars||0),0).toLocaleString()})]}),(0,a.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(w.A,{className:"w-5 h-5 text-purple-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-purple-700 dark:text-purple-300",children:"기록 수"})]}),(0,a.jsx)("span",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:s.length.toLocaleString()})]})]})]})]})}var S=t(73558),A=t(53904),M=t(71539),P=t(1243),T=t(73314),E=t(95880);let I=e=>{let{className:s="",autoRefresh:t=!0,refreshInterval:l=2e3}=e,[n,i]=(0,r.useState)(null),[c,o]=(0,r.useState)(!1),[d,x]=(0,r.useState)(null),[m,u]=(0,r.useState)([]),[h,g]=(0,r.useState)(!1),b=(0,r.useCallback)(async()=>{try{if(o(!0),x(null),window.electronAPI){let e=await window.electronAPI.memory.getInfo();if(e.success&&e.data){let s={...e.data,timestamp:Date.now()};i(s),u(e=>[...e,s].slice(-60))}else x(e.error||"메모리 정보를 가져올 수 없습니다")}}catch(e){console.error("메모리 정보 가져오기 실패:",e),x(e instanceof Error?e.message:"알 수 없는 오류")}finally{o(!1)}},[]),p=(0,r.useCallback)(async()=>{try{if(g(!0),window.electronAPI){let e=await window.electronAPI.memory.cleanup();e.success?setTimeout(b,1e3):x(e.error||"GC 실행 실패")}}catch(e){console.error("GC 실행 실패:",e),x(e instanceof Error?e.message:"GC 실행 중 오류")}finally{g(!1)}},[b]),j=(0,r.useCallback)(async()=>{try{if(window.electronAPI){let e=await window.electronAPI.memory.optimize();e.success?setTimeout(b,1e3):x(e.error||"메모리 최적화 실패")}}catch(e){console.error("메모리 최적화 실패:",e),x(e instanceof Error?e.message:"메모리 최적화 중 오류")}},[b]);(0,r.useEffect)(()=>{if(b(),t){let e=setInterval(b,l);return()=>clearInterval(e)}},[b,t,l]);let y=e=>e>=85?"text-red-500":e>=70?"text-yellow-500":"text-green-500",f=e=>e>=85?"bg-red-500":e>=70?"bg-yellow-500":"bg-green-500",N=e=>e>=1024?"".concat((e/1024).toFixed(1)," GB"):"".concat(e.toFixed(1)," MB"),v=e=>{let{title:s,icon:t,info:r}=e;return(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[t,(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:s})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"사용됨"}),(0,a.jsxs)("span",{className:"font-medium ".concat(y(r.percentage)),children:[N(r.used)," (",r.percentage.toFixed(1),"%)"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(f(r.percentage)),style:{width:"".concat(Math.min(r.percentage,100),"%")}})}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:["여유: ",N(r.free)]}),(0,a.jsxs)("span",{children:["전체: ",N(r.total)]})]})]})]})};return(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 ".concat(s),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(S.A,{className:"w-5 h-5 text-blue-500"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"메모리 모니터"}),c&&(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-500 border-t-transparent"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:b,disabled:c,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:"새로고침",children:(0,a.jsx)(A.A,{className:"w-4 h-4 ".concat(c?"animate-spin":"")})}),(0,a.jsx)("button",{onClick:p,disabled:h,className:"px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50 transition-colors",title:"가비지 컬렉션 실행",children:h?"실행 중...":"GC"}),(0,a.jsx)("button",{onClick:j,disabled:c,className:"px-3 py-1 text-sm bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50 transition-colors",title:"메모리 최적화",children:(0,a.jsx)(M.A,{className:"w-3 h-3"})})]})]}),d&&(0,a.jsxs)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2",children:[(0,a.jsx)(P.A,{className:"w-4 h-4 text-red-500"}),(0,a.jsx)("span",{className:"text-sm text-red-700",children:d})]}),n?(0,a.jsxs)("div",{className:"space-y-4",children:[n.application&&(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(M.A,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold text-blue-900",children:"애플리케이션 총 메모리 사용량"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-sm text-blue-700",children:[N(n.application.used)," / ",N(n.application.total)]}),(0,a.jsxs)("span",{className:"text-lg font-bold ".concat(y(n.application.percentage)),children:[n.application.percentage.toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-blue-200 rounded-full h-3 mt-2",children:(0,a.jsx)("div",{className:"h-3 rounded-full transition-all duration-300 ".concat(f(n.application.percentage)),style:{width:"".concat(Math.min(n.application.percentage,100),"%")}})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(v,{title:"메인 프로세스",icon:(0,a.jsx)(T.A,{className:"w-4 h-4 text-blue-500"}),info:n.main}),(0,a.jsx)(v,{title:"렌더러 프로세스",icon:(0,a.jsx)(S.A,{className:"w-4 h-4 text-green-500"}),info:n.renderer}),n.gpu&&(0,a.jsx)(v,{title:"GPU 메모리",icon:(0,a.jsx)(M.A,{className:"w-4 h-4 text-purple-500"}),info:n.gpu}),(0,a.jsx)(v,{title:"시스템 메모리",icon:(0,a.jsx)(E.A,{className:"w-4 h-4 text-orange-500"}),info:n.system})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"메모리 사용량 상세"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"메인 프로세스"}),(0,a.jsxs)("span",{className:"font-medium",children:[N(n.main.used)," / ",N(n.main.total)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"렌더러 프로세스"}),(0,a.jsxs)("span",{className:"font-medium",children:[N(n.renderer.used)," / ",N(n.renderer.total)]})]}),n.application&&(0,a.jsxs)("div",{className:"flex justify-between font-semibold text-blue-700 border-t pt-2",children:[(0,a.jsx)("span",{children:"애플리케이션 합계"}),(0,a.jsxs)("span",{children:[N(n.application.used)," / ",N(n.application.total)]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"시스템 총 메모리"}),(0,a.jsx)("span",{className:"font-medium",children:N(n.system.total)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"시스템 사용 중"}),(0,a.jsx)("span",{className:"font-medium",children:N(n.system.used)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"시스템 여유"}),(0,a.jsx)("span",{className:"font-medium text-green-600",children:N(n.system.free)})]}),n.gpu&&(0,a.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"GPU 메모리"}),(0,a.jsxs)("span",{className:"font-medium",children:[N(n.gpu.used)," / ",N(n.gpu.total)]})]})]})]})]}),n.application&&n.application.percentage>85||n.system.percentage>90?(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(P.A,{className:"w-4 h-4 text-red-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-red-800",children:"높은 메모리 사용량 경고"})]}),(0,a.jsxs)("p",{className:"text-sm text-red-700 mt-1",children:[n.application&&n.application.percentage>85&&"애플리케이션 메모리 사용량이 높습니다. ",n.system.percentage>90&&"시스템 메모리 사용량이 높습니다. ","성능 저하를 방지하기 위해 메모리 최적화를 실행하거나 불필요한 프로그램을 종료하는 것을 권장합니다."]})]}):n.application&&n.application.percentage>70||n.system.percentage>80?(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(P.A,{className:"w-4 h-4 text-yellow-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-yellow-800",children:"메모리 사용량 주의"})]}),(0,a.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"메모리 사용량이 증가하고 있습니다. 메모리 정리를 실행하여 성능을 개선할 수 있습니다."})]}):null]}):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(S.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,a.jsx)("p",{children:"메모리 정보를 불러오는 중..."})]})]})};function U(e){let{keyCount:s,typingTime:t,accuracy:a=100}=e,r=t/6e4,l=r>0?s/5/r:0;return{wpm:Math.max(0,l),accuracy:Math.min(100,Math.max(0,a)),performanceIndex:Math.max(0,l*a/100),consistencyScore:Math.min(100,65+Math.min(s,500)/20),fatigueAnalysis:{score:Math.min(100,10*r+l/10),timeFactor:r,intensityFactor:l/100,recommendation:r>30?"휴식이 필요합니다":r>15?"짧은 휴식을 고려하세요":"좋은 상태입니다"}}}function D(e){let{stats:s,isTracking:t,className:l}=e,n=s||{keyCount:0,typingTime:0,accuracy:100},[i,c]=(0,r.useState)(null),[o,d]=(0,r.useState)(!1),[x,m]=(0,r.useState)(!1),[u,h]=(0,r.useState)(null),[g,b]=(0,r.useState)(!1),p=(0,r.useCallback)(async()=>{try{b(!1)}catch(e){console.warn("GPU 상태 확인 실패:",e),b(!1)}},[]),j=(0,r.useCallback)(async e=>null,[]),y=(0,r.useCallback)(async()=>{if(n.keyCount&&n.typingTime){m(!0),h(null);try{if(o&&g){let e=await j(n);if(e)c(e);else{let e=U(n);c(e)}}else{let e=U(n);c(e)}}catch(e){console.error("타이핑 분석 오류:",e),h("분석 중 오류가 발생했습니다."),c(U(n))}finally{m(!1)}}},[n,o,g,j]),f=(0,r.useCallback)(async()=>{let e=!o;if(d(e),e&&g)try{d(!1)}catch(e){console.error("GPU 활성화 실패:",e),d(!1)}},[o,g]);return(0,r.useEffect)(()=>{p()},[p]),(0,r.useEffect)(()=>{n.keyCount>0&&n.typingTime>0&&y()},[n,y]),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6 ".concat(l||""),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"타이핑 분석"}),g&&(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsxs)("label",{className:"flex items-center space-x-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:o,onChange:f,disabled:x,className:"rounded border-gray-300"}),(0,a.jsx)("span",{children:"GPU 가속"})]})})]}),x&&(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"분석 중..."})]}),u&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-3 mb-4",children:(0,a.jsx)("p",{className:"text-red-700 text-sm",children:u})}),i&&!x&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"속도"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(i.wpm)," WPM"]})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"정확도"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[i.accuracy.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"bg-purple-50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"성능 지수"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:i.performanceIndex.toFixed(1)})]}),(0,a.jsxs)("div",{className:"bg-orange-50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"일관성"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:i.consistencyScore.toFixed(1)})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-800 mb-2",children:"피로도 분석"}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full ".concat(i.fatigueAnalysis.score<30?"bg-green-500":i.fatigueAnalysis.score<70?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(Math.min(100,i.fatigueAnalysis.score),"%")}})}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:i.fatigueAnalysis.recommendation})]})]}),!i&&!x&&!u&&(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,a.jsx)("p",{children:"타이핑을 시작하면 분석 결과가 표시됩니다."})})]})}let L=e=>{let{children:s,className:t=""}=e;return(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 ".concat(t),children:s})},G=e=>{let{children:s,className:t=""}=e;return(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 ".concat(t),children:s})},R=e=>{let{children:s,className:t=""}=e;return(0,a.jsx)("div",{className:"px-6 py-4 ".concat(t),children:s})},F=e=>{let{children:s,className:t=""}=e;return(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 ".concat(t),children:s})},O={default:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground",success:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-green-500 text-white hover:bg-green-600",warning:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-yellow-500 text-white hover:bg-yellow-600",error:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-red-500 text-white hover:bg-red-600"};function B(e){let{className:s,variant:t="default",...r}=e;return(0,a.jsx)("div",{className:function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter(Boolean).join(" ")}(O[t],s),...r})}var z=t(40646),W=t(54861),H=t(85339),K=t(381);function _(){var e,s,t,l,n,i,c,o,d,x,m,u,h,g,b,p,j,y,f,N,v,k;let[C,S]=(0,r.useState)(null),[A,M]=(0,r.useState)(!0),[P,E]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=async()=>{try{if(M(!0),window.electronAPI){let e=await window.electronAPI.system.native.getStatus();e.success?S(e.data):E(e.error||"네이티브 모듈 상태 조회 실패")}else S({uiohook:{available:!1,version:"0.0.0",initialized:!1,loadError:"브라우저 환경에서는 네이티브 모듈을 사용할 수 없습니다",fallbackMode:!0,features:{keyboardHook:!1,mouseHook:!1,globalEvents:!1}},system:{platform:navigator.platform,arch:"unknown",node:"N/A",electron:"N/A",chrome:navigator.userAgent,hostname:"localhost",uptime:0,cpuCount:navigator.hardwareConcurrency||1,cpuModel:"Unknown",loadAverage:{"1min":0,"5min":0,"15min":0},memory:{total:0,free:0,used:0,percentage:0}},permissions:{accessibility:!1,input:!1,screenRecording:null,microphone:null,camera:null},performance:{processUptime:0,memoryUsage:{rss:0,heapTotal:0,heapUsed:0,external:0,arrayBuffers:0},resourceUsage:null,pid:0,ppid:null},environment:{nodeEnv:"browser",isDev:!1,userAgent:navigator.userAgent,workingDirectory:"N/A"}})}catch(e){console.error("네이티브 모듈 상태 확인 오류:",e),E(e instanceof Error?e.message:"알 수 없는 오류")}finally{M(!1)}};e();let s=setInterval(e,1e4);return()=>clearInterval(s)},[]);let I=(e,s)=>(0,a.jsx)(B,{variant:e?"default":"destructive",children:e?s:"".concat(s," 비활성")});return A?(0,a.jsxs)(L,{children:[(0,a.jsx)(G,{children:(0,a.jsxs)(F,{className:"flex items-center gap-2",children:[(0,a.jsx)(w.A,{className:"h-5 w-5 animate-spin"}),"네이티브 모듈 상태"]})}),(0,a.jsx)(R,{children:(0,a.jsx)("div",{className:"text-center py-4",children:(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"상태 확인 중..."})})})]}):P?(0,a.jsxs)(L,{children:[(0,a.jsx)(G,{children:(0,a.jsxs)(F,{className:"flex items-center gap-2",children:[(0,a.jsx)(H.A,{className:"h-5 w-5 text-red-500"}),"네이티브 모듈 상태"]})}),(0,a.jsx)(R,{children:(0,a.jsx)("div",{className:"text-center py-4",children:(0,a.jsx)("div",{className:"text-sm text-red-600",children:P})})})]}):C?(0,a.jsxs)(L,{children:[(0,a.jsx)(G,{children:(0,a.jsxs)(F,{className:"flex items-center gap-2",children:[(0,a.jsx)(T.A,{className:"h-5 w-5"}),"네이티브 모듈 상태"]})}),(0,a.jsxs)(R,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"uiohook (키보드 후킹)"}),(null==C||null==(e=C.uiohook)?void 0:e.available)?(0,a.jsx)(z.A,{className:"h-4 w-4 text-green-500"}):(0,a.jsx)(W.A,{className:"h-4 w-4 text-red-500"})]}),(0,a.jsxs)("div",{className:"pl-4 space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{children:"버전:"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:(null==C||null==(s=C.uiohook)?void 0:s.version)||"N/A"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{children:"초기화:"}),I((null==C||null==(t=C.uiohook)?void 0:t.initialized)||!1,"완료")]}),(null==C||null==(l=C.uiohook)?void 0:l.fallbackMode)&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{children:"폴백 모드:"}),(0,a.jsx)(B,{variant:"secondary",children:"활성"})]}),(null==C||null==(n=C.uiohook)?void 0:n.loadError)&&(0,a.jsxs)("div",{className:"text-xs text-red-500 mt-1",children:["오류: ",C.uiohook.loadError]}),(null==C||null==(i=C.uiohook)?void 0:i.features)&&(0,a.jsxs)("div",{className:"space-y-1 mt-2",children:[(0,a.jsx)("div",{className:"text-xs font-medium",children:"기능:"}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{children:"키보드 후킹:"}),I((null==(c=C.uiohook.features)?void 0:c.keyboardHook)||!1,"지원")]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{children:"마우스 후킹:"}),I((null==(o=C.uiohook.features)?void 0:o.mouseHook)||!1,"지원")]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{children:"글로벌 이벤트:"}),I((null==(d=C.uiohook.features)?void 0:d.globalEvents)||!1,"지원")]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(K.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"시스템 정보"})]}),(0,a.jsxs)("div",{className:"pl-4 space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{children:"플랫폼:"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:(null==C||null==(x=C.system)?void 0:x.platform)||"N/A"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{children:"아키텍처:"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:(null==C||null==(m=C.system)?void 0:m.arch)||"N/A"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{children:"Node.js:"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:(null==C||null==(u=C.system)?void 0:u.node)||"N/A"})]}),(null==C||null==(h=C.system)?void 0:h.electron)&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{children:"Electron:"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:C.system.electron})]}),(null==C||null==(g=C.system)?void 0:g.cpuCount)&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{children:"CPU 코어:"}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:[C.system.cpuCount,"개"]})]}),(null==C||null==(b=C.system)?void 0:b.memory)&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{children:"시스템 메모리:"}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:[Math.round(C.system.memory.percentage),"% 사용 중"]})]}),(null==C||null==(p=C.system)?void 0:p.uptime)&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{children:"가동 시간:"}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:[Math.floor(C.system.uptime/3600),"시간"]})]})]})]}),(null==C?void 0:C.performance)&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(w.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"성능 정보"})]}),(0,a.jsxs)("div",{className:"pl-4 space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{children:"프로세스 ID:"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:C.performance.pid})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{children:"힙 메모리:"}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:[Math.round(C.performance.memoryUsage.heapUsed/1024/1024),"MB"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{children:"RSS 메모리:"}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:[Math.round(C.performance.memoryUsage.rss/1024/1024),"MB"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{children:"프로세스 실행 시간:"}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:[Math.floor(C.performance.processUptime/60),"분"]})]})]})]}),(null==C?void 0:C.environment)&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(K.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"환경 정보"})]}),(0,a.jsxs)("div",{className:"pl-4 space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{children:"환경:"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:C.environment.nodeEnv})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{children:"개발 모드:"}),I(C.environment.isDev,"활성")]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{children:"작업 디렉토리:"}),(0,a.jsx)("span",{className:"text-muted-foreground text-xs truncate max-w-32",children:C.environment.workingDirectory})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(H.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"권한 상태"})]}),(0,a.jsxs)("div",{className:"pl-4 space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{children:"접근성 권한:"}),I((null==C||null==(j=C.permissions)?void 0:j.accessibility)||!1,"허용됨")]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{children:"입력 모니터링:"}),I((null==C||null==(y=C.permissions)?void 0:y.input)||!1,"허용됨")]})]})]}),(null==C||null==(N=C.system)||null==(f=N.platform)?void 0:f.toLowerCase().includes("mac"))&&(!(null==C||null==(v=C.permissions)?void 0:v.accessibility)||!(null==C||null==(k=C.permissions)?void 0:k.input))&&(0,a.jsx)("div",{className:"pt-2 border-t",children:(0,a.jsx)("button",{className:"w-full text-xs px-3 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",onClick:()=>{alert("시스템 환경설정 > 보안 및 개인 정보 보호 > 개인 정보 보호에서 Loop에 접근성 및 입력 모니터링 권한을 허용해주세요.")},children:"권한 설정 안내"})})]})]}):(0,a.jsxs)(L,{children:[(0,a.jsx)(G,{children:(0,a.jsxs)(F,{className:"flex items-center gap-2",children:[(0,a.jsx)(W.A,{className:"h-5 w-5 text-gray-500"}),"네이티브 모듈 상태"]})}),(0,a.jsx)(R,{children:(0,a.jsx)("div",{className:"text-center py-4",children:(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"네이티브 모듈 정보를 가져올 수 없습니다"})})})]})}var J=t(40133),V=t(14738),q=t(93509),Q=t(62098),X=t(74311),Y=t(91981),Z=t(92657),$=t(23861),ee=t(39810),es=t(45027);function et(e){let{onSave:s,initialSettings:t}=e,{settings:l,isLoading:n,error:i,saveSettings:c,resetSettings:o}=(0,ee.t)(),{theme:x,isDarkMode:m,toggleDarkMode:u,toggleTheme:h,setTheme:g}=(0,es.D)(),[b,p]=(0,r.useState)(!1),[j,y]=(0,r.useState)(!1),[f,N]=(0,r.useState)(l);(0,r.useEffect)(()=>{N(l)},[l]),(0,r.useEffect)(()=>{t&&N(t)},[t]);let v=(e,s)=>{N(t=>({...t,enabledCategories:{...t.enabledCategories,[e]:s}}))},k=e=>{N(s=>({...s,processingMode:e})),("gpu-intensive"===e||"cpu-intensive"===e)&&p(!0)},C=async()=>{try{await c(f),y(!0),setTimeout(()=>y(!1),2e3),null==s||s(f)}catch(e){console.error("설정 저장 실패:",e)}},S=async()=>{try{await o(),N(l),p(!1)}catch(e){console.error("설정 초기화 실패:",e)}},A=async()=>{console.log("⚙️ Settings: 다크모드 토글 버튼 클릭"),await u()},P=e=>{N(s=>({...s,windowMode:e}))};return n?(0,a.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):i?(0,a.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,a.jsxs)("p",{className:"text-red-600",children:["설정을 불러오는 중 오류가 발생했습니다: ",i]})}):(0,a.jsxs)("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(K.A,{className:"h-6 w-6 text-blue-600"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"설정"})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("button",{onClick:S,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors flex items-center space-x-2",children:[(0,a.jsx)(J.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"초기화"})]}),(0,a.jsxs)("button",{onClick:C,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[(0,a.jsx)(d.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"저장"})]})]})]}),j&&(0,a.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,a.jsx)("p",{className:"text-green-600 font-medium",children:"설정이 성공적으로 저장되었습니다!"})}),b&&(0,a.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,a.jsx)("p",{className:"text-yellow-600 font-medium",children:"일부 설정을 적용하려면 애플리케이션을 다시 시작해야 합니다."})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg border p-6 space-y-4",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2",children:[(0,a.jsx)(V.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"일반 설정"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[m?(0,a.jsx)(q.A,{className:"h-4 w-4"}):(0,a.jsx)(Q.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"다크 모드"}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["(",x,")"]})]}),(0,a.jsx)("button",{onClick:A,className:"w-12 h-6 rounded-full p-1 transition-colors ".concat(m?"bg-blue-600":"bg-gray-300"),children:(0,a.jsx)("div",{className:"w-4 h-4 rounded-full bg-white transition-transform ".concat(m?"translate-x-6":"translate-x-0")})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"창 모드"}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-2",children:["windowed","fullscreen","fullscreen-auto-hide"].map(e=>(0,a.jsx)("button",{onClick:()=>P(e),className:"p-2 text-left rounded border transition-colors ".concat(f.windowMode===e?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:["windowed"===e&&(0,a.jsx)(X.A,{className:"h-4 w-4"}),"fullscreen"===e&&(0,a.jsx)(Y.A,{className:"h-4 w-4"}),"fullscreen-auto-hide"===e&&(0,a.jsx)(Z.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["windowed"===e&&"창 모드","fullscreen"===e&&"전체 화면","fullscreen-auto-hide"===e&&"전체 화면 (자동 숨김)"]})]})},e))})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"애니메이션 효과"}),(0,a.jsx)("button",{onClick:()=>N(e=>({...e,enableAnimations:!e.enableAnimations})),className:"w-12 h-6 rounded-full p-1 transition-colors ".concat(f.enableAnimations?"bg-blue-600":"bg-gray-300"),children:(0,a.jsx)("div",{className:"w-4 h-4 rounded-full bg-white transition-transform ".concat(f.enableAnimations?"translate-x-6":"translate-x-0")})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)($.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"알림 활성화"})]}),(0,a.jsx)("button",{onClick:()=>N(e=>({...e,enableNotifications:!e.enableNotifications})),className:"w-12 h-6 rounded-full p-1 transition-colors ".concat(f.enableNotifications?"bg-blue-600":"bg-gray-300"),children:(0,a.jsx)("div",{className:"w-4 h-4 rounded-full bg-white transition-transform ".concat(f.enableNotifications?"translate-x-6":"translate-x-0")})})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border p-6 space-y-4",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2",children:[(0,a.jsx)(T.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"성능 설정"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(M.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"GPU 가속"})]}),(0,a.jsx)("button",{onClick:()=>N(e=>({...e,enableGPUAcceleration:!e.enableGPUAcceleration})),className:"w-12 h-6 rounded-full p-1 transition-colors ".concat(f.enableGPUAcceleration?"bg-blue-600":"bg-gray-300"),children:(0,a.jsx)("div",{className:"w-4 h-4 rounded-full bg-white transition-transform ".concat(f.enableGPUAcceleration?"translate-x-6":"translate-x-0")})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(w.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"메모리 최적화"})]}),(0,a.jsx)("button",{onClick:()=>N(e=>({...e,enableMemoryOptimization:!e.enableMemoryOptimization})),className:"w-12 h-6 rounded-full p-1 transition-colors ".concat(f.enableMemoryOptimization?"bg-blue-600":"bg-gray-300"),children:(0,a.jsx)("div",{className:"w-4 h-4 rounded-full bg-white transition-transform ".concat(f.enableMemoryOptimization?"translate-x-6":"translate-x-0")})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"처리 모드"}),(0,a.jsxs)("select",{value:f.processingMode,onChange:e=>k(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"auto",children:"자동"}),(0,a.jsx)("option",{value:"normal",children:"일반"}),(0,a.jsx)("option",{value:"cpu-intensive",children:"CPU 집약적"}),(0,a.jsx)("option",{value:"gpu-intensive",children:"GPU 집약적"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium text-gray-700",children:["최대 메모리 임계값: ",f.maxMemoryThreshold,"MB"]}),(0,a.jsx)("input",{type:"range",min:"100",max:"2048",step:"50",value:f.maxMemoryThreshold,onChange:e=>N(s=>({...s,maxMemoryThreshold:parseInt(e.target.value)})),className:"w-full"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border p-6 space-y-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"타이핑 분석"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"분석 카테고리"}),(0,a.jsx)("div",{className:"space-y-2",children:Object.entries(f.enabledCategories).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"capitalize",children:["docs"===s&&"문서","office"===s&&"오피스","coding"===s&&"코딩","sns"===s&&"SNS"]}),(0,a.jsx)("button",{onClick:()=>v(s,!t),className:"w-12 h-6 rounded-full p-1 transition-colors ".concat(t?"bg-blue-600":"bg-gray-300"),children:(0,a.jsx)("div",{className:"w-4 h-4 rounded-full bg-white transition-transform ".concat(t?"translate-x-6":"translate-x-0")})})]},s)})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"실시간 통계 표시"}),(0,a.jsx)("button",{onClick:()=>N(e=>({...e,enableRealTimeStats:!e.enableRealTimeStats})),className:"w-12 h-6 rounded-full p-1 transition-colors ".concat(f.enableRealTimeStats?"bg-blue-600":"bg-gray-300"),children:(0,a.jsx)("div",{className:"w-4 h-4 rounded-full bg-white transition-transform ".concat(f.enableRealTimeStats?"translate-x-6":"translate-x-0")})})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border p-6 space-y-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"데이터 및 개인정보"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"데이터 수집 허용"}),(0,a.jsx)("button",{onClick:()=>N(e=>({...e,enableDataCollection:!e.enableDataCollection})),className:"w-12 h-6 rounded-full p-1 transition-colors ".concat(f.enableDataCollection?"bg-blue-600":"bg-gray-300"),children:(0,a.jsx)("div",{className:"w-4 h-4 rounded-full bg-white transition-transform ".concat(f.enableDataCollection?"translate-x-6":"translate-x-0")})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"자동 저장"}),(0,a.jsx)("button",{onClick:()=>N(e=>({...e,enableAutoSave:!e.enableAutoSave})),className:"w-12 h-6 rounded-full p-1 transition-colors ".concat(f.enableAutoSave?"bg-blue-600":"bg-gray-300"),children:(0,a.jsx)("div",{className:"w-4 h-4 rounded-full bg-white transition-transform ".concat(f.enableAutoSave?"translate-x-6":"translate-x-0")})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium text-gray-700",children:["데이터 보관 기간: ",f.dataRetentionDays,"일"]}),(0,a.jsx)("input",{type:"range",min:"7",max:"365",step:"7",value:f.dataRetentionDays,onChange:e=>N(s=>({...s,dataRetentionDays:parseInt(e.target.value)})),className:"w-full"})]})]})]})]})]})}let ea=e=>{let{className:s="",autoRefresh:t=!0,refreshInterval:l=3e3}=e,[n,i]=(0,r.useState)(null),[c,o]=(0,r.useState)(null),[d,x]=(0,r.useState)([]),[m,u]=(0,r.useState)(!1),[h,g]=(0,r.useState)(null),[b,p]=(0,r.useState)(null),j=(0,r.useCallback)(async()=>{try{if(u(!0),g(null),window.electronAPI){let e=await window.electronAPI.system.getInfo();if(e.success&&e.data)i(e.data);else throw Error(e.error||"시스템 정보를 가져올 수 없습니다");let s=await window.electronAPI.memory.getInfo();s.success&&s.data&&o(s.data.system);let t=await window.electronAPI.system.getLoopProcesses();t.success&&t.data&&x(t.data)}}catch(e){console.error("시스템 정보 가져오기 실패:",e),g(e instanceof Error?e.message:"알 수 없는 오류")}finally{u(!1)}},[]);(0,r.useEffect)(()=>{if(j(),t){let e=setInterval(j,l);return()=>clearInterval(e)}},[j,t,l]);let y=e=>e>=1024?"".concat((e/1024).toFixed(1)," GB"):"".concat(e.toFixed(1)," MB"),f=e=>e>=80?"text-red-500":e>=60?"text-yellow-500":"text-green-500",N=e=>e>=80?"bg-red-500":e>=60?"bg-yellow-500":"bg-green-500",v=e=>e.toLowerCase().includes("main")?(0,a.jsx)(T.A,{className:"w-3 h-3"}):e.toLowerCase().includes("renderer")?(0,a.jsx)(V.A,{className:"w-3 h-3"}):e.toLowerCase().includes("gpu")?(0,a.jsx)(M.A,{className:"w-3 h-3"}):(0,a.jsx)(w.A,{className:"w-3 h-3"}),k=e=>e.toLowerCase().includes("main")?"text-blue-500":e.toLowerCase().includes("renderer")?"text-green-500":e.toLowerCase().includes("gpu")?"text-purple-500":"text-gray-500";return(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 ".concat(s),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(w.A,{className:"w-5 h-5 text-blue-500"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"활성 상태 모니터"}),m&&(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-500 border-t-transparent"})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("button",{onClick:j,disabled:m,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:"새로고침",children:(0,a.jsx)(A.A,{className:"w-4 h-4 ".concat(m?"animate-spin":"")})})})]}),h&&(0,a.jsxs)("div",{className:"m-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2",children:[(0,a.jsx)(P.A,{className:"w-4 h-4 text-red-500"}),(0,a.jsx)("span",{className:"text-sm text-red-700",children:h})]}),n?(0,a.jsxs)("div",{className:"p-4 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(T.A,{className:"w-4 h-4 text-blue-500"}),(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"CPU"}),(0,a.jsxs)("span",{className:"text-sm font-semibold ".concat(f(n.cpu.usage)),children:[n.cpu.usage.toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(N(n.cpu.usage)),style:{width:"".concat(Math.min(n.cpu.usage,100),"%")}})}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[n.cpu.cores,"코어 • ",n.cpu.model]})]}),c&&(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(S.A,{className:"w-4 h-4 text-green-500"}),(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"메모리"}),(0,a.jsxs)("span",{className:"text-sm font-semibold ".concat(f(c.percentage)),children:[c.percentage.toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(N(c.percentage)),style:{width:"".concat(Math.min(c.percentage,100),"%")}})}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[y(c.used)," / ",y(c.total)," 사용됨"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Loop 프로세스"}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4 p-3 text-xs font-medium text-gray-500 border-b border-gray-200",children:[(0,a.jsx)("div",{children:"프로세스"}),(0,a.jsx)("div",{className:"text-right",children:"PID"}),(0,a.jsx)("div",{className:"text-right",children:"CPU"}),(0,a.jsx)("div",{className:"text-right",children:"메모리"})]}),(0,a.jsx)("div",{className:"max-h-60 overflow-y-auto",children:d.length>0?d.map(e=>(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4 p-3 text-sm hover:bg-white cursor-pointer transition-colors ".concat((null==b?void 0:b.pid)===e.pid?"bg-blue-50 border-l-2 border-blue-500":""),onClick:()=>p(e),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:k(e.name),children:v(e.name)}),(0,a.jsx)("span",{className:"truncate",children:e.name})]}),(0,a.jsx)("div",{className:"text-right text-gray-500",children:e.pid}),(0,a.jsxs)("div",{className:"text-right ".concat(f(e.cpuUsage)),children:[e.cpuUsage.toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-right font-medium",children:y(e.memoryUsage)})]},e.pid)):(0,a.jsx)("div",{className:"p-4 text-center text-gray-500 text-sm",children:"Loop 프로세스를 찾을 수 없습니다"})})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"시스템 정보"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"업타임"}),(0,a.jsx)("div",{className:"font-medium",children:(e=>{let s=Math.floor(e/60),t=Math.floor(s/60),a=Math.floor(t/24);return a>0?"".concat(a,"일 ").concat(t%24,"시간"):t>0?"".concat(t,"시간 ").concat(s%60,"분"):"".concat(s,"분 ").concat(e%60,"초")})(n.uptime)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"플랫폼"}),(0,a.jsx)("div",{className:"font-medium",children:n.platform})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"아키텍처"}),(0,a.jsx)("div",{className:"font-medium",children:n.arch})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"호스트명"}),(0,a.jsx)("div",{className:"font-medium",children:n.hostname})]}),c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"총 메모리"}),(0,a.jsx)("div",{className:"font-medium",children:y(c.total)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"여유 메모리"}),(0,a.jsx)("div",{className:"font-medium text-green-600",children:y(c.free)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"로드 평균"}),(0,a.jsx)("div",{className:"font-medium",children:n.loadAverage.map(e=>e.toFixed(2)).join(", ")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"CPU 속도"}),(0,a.jsxs)("div",{className:"font-medium",children:[n.cpu.speed," MHz"]})]})]})]}),b&&(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-medium text-blue-900 mb-3",children:"프로세스 상세 정보"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-blue-600",children:"이름"}),(0,a.jsx)("div",{className:"font-medium",children:b.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-blue-600",children:"PID"}),(0,a.jsx)("div",{className:"font-medium",children:b.pid})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-blue-600",children:"CPU 사용률"}),(0,a.jsxs)("div",{className:"font-medium",children:[b.cpuUsage.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-blue-600",children:"메모리 사용량"}),(0,a.jsx)("div",{className:"font-medium",children:y(b.memoryUsage)})]}),b.ppid&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-blue-600",children:"부모 PID"}),(0,a.jsx)("div",{className:"font-medium",children:b.ppid})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-blue-600",children:"상태"}),(0,a.jsx)("div",{className:"font-medium",children:b.status})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-blue-600",children:"메모리 비율"}),(0,a.jsxs)("div",{className:"font-medium",children:[b.memoryPercent.toFixed(1),"%"]})]}),b.user&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-blue-600",children:"사용자"}),(0,a.jsx)("div",{className:"font-medium",children:b.user})]})]})]})]}):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(w.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,a.jsx)("p",{children:"시스템 정보를 불러오는 중..."})]})]})},er=()=>{let e=document.getElementById("loop-init-styles");if(e||((e=document.createElement("style")).id="loop-init-styles",document.head.appendChild(e)),e.textContent='\n    /* Loop 앱 기본 CSS 변수 - ThemeProvider보다 낮은 우선순위 */\n    :root {\n      --background-color: #f9f9f9;\n      --text-color: #333;\n      --primary-color: #0070f3;\n      --text-secondary: #666;\n      --border-color: #e0e0e0;\n      --card-bg: #ffffff;\n      --header-bg: #ffffff;\n      --footer-bg: #f0f0f0;\n    }\n    \n    /* 다크모드 변수 정의 - ThemeProvider가 .dark 클래스를 추가하면 적용됨 */\n    .dark, .dark-mode, [data-theme="dark"] {\n      --background-color: #121212 !important;\n      --text-color: #e0e0e0 !important;\n      --text-secondary: #a0a0a0 !important;\n      --border-color: #333 !important;\n      --card-bg: #1e1e1e !important;\n      --header-bg: #1e1e1e !important;\n      --footer-bg: #121212 !important;\n    }\n    \n    /* body에 CSS 변수 적용 - transition 포함 */\n    body {\n      background-color: var(--background-color) !important;\n      color: var(--text-color) !important;\n      transition: background-color 0.3s ease, color 0.3s ease;\n    }\n    \n    /* 카드 및 주요 컴포넌트도 변수 사용 */\n    .bg-white, .bg-card {\n      background-color: var(--card-bg) !important;\n    }\n    \n    .text-gray-900, .text-black {\n      color: var(--text-color) !important;\n    }\n    \n    .text-gray-600, .text-gray-500 {\n      color: var(--text-secondary) !important;\n    }\n  ',!document.getElementById("loop-fonts")){let e=document.createElement("link");e.id="loop-fonts",e.rel="stylesheet",e.href="/assets/fonts/font.css",document.head.appendChild(e)}if(!document.getElementById("loop-electron-styles")){let e=document.createElement("link");e.id="loop-electron-styles",e.rel="stylesheet",e.href="/assets/styles/electron-styles.css",document.head.appendChild(e)}console.log("Loop CSS 변수 및 스타일 초기화 완료"),setTimeout(()=>{let e=getComputedStyle(document.body).backgroundColor,s=document.documentElement.classList.contains("dark")||document.documentElement.classList.contains("dark-mode");console.log("현재 body 배경색: ".concat(e,", 다크모드: ").concat(s))},1e3)};var el=t(57340),en=t(54213),ei=t(54416),ec=t(74783);function eo(e){let{icon:s,className:t,size:l,...n}=e,[i,c]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{c(!0)},[]),i)?(0,a.jsx)(s,{className:t,size:l,...n}):(0,a.jsx)("div",{className:t,style:{width:l||24,height:l||24}})}function ed(){let[e,s]=(0,r.useState)("home"),[t,l]=(0,r.useState)([]),[n,c]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{m(),er()},[]);let m=async()=>{try{c(!0);let e=await fetch("/api/getLogs"),s=await e.json();s.success&&l(s.data.logs||[])}catch(e){console.error("로그 로드 오류:",e)}finally{c(!1)}},u=async e=>{try{let s=await fetch("/api/logs/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,totalChars:e.content.length})}),t=await s.json();t.success&&l(e=>[t.data,...e])}catch(e){console.error("로그 저장 오류:",e)}},h=[{id:"home",label:"홈",icon:el.A},{id:"stats",label:"통계",icon:i.A},{id:"analysis",label:"분석",icon:w.A},{id:"memory",label:"메모리",icon:T.A},{id:"activity",label:"활성 상태",icon:V.A},{id:"system",label:"시스템",icon:en.A},{id:"settings",label:"설정",icon:K.A}];return(0,a.jsxs)("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-950",children:[(0,a.jsxs)("div",{className:"".concat(o?"w-64":"w-16"," bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 transition-all duration-300 flex flex-col"),children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[o&&(0,a.jsx)("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Loop 6"}),(0,a.jsx)("button",{onClick:()=>d(!o),className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:o?(0,a.jsx)(ei.A,{className:"w-4 h-4"}):(0,a.jsx)(ec.A,{className:"w-4 h-4"})})]})}),(0,a.jsx)("nav",{className:"flex-1 p-4",children:(0,a.jsx)("ul",{className:"space-y-2",children:h.map(t=>(0,a.jsx)("li",{children:(0,a.jsxs)("button",{onClick:()=>s(t.id),className:"w-full flex items-center gap-3 px-3 py-2 rounded-md transition-colors ".concat(e===t.id?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),title:o?void 0:t.label,children:[(0,a.jsx)(eo,{icon:t.icon,className:"w-5 h-5 flex-shrink-0"}),o&&(0,a.jsx)("span",{className:"text-sm font-medium",children:t.label})]})},t.id))})})]}),(0,a.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,a.jsx)("div",{className:"h-full overflow-auto p-6",children:n?(0,a.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,a.jsx)("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"로딩 중..."})]}):(()=>{switch(e){case"home":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Loop 6 - 타이핑 분석 시스템"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"실시간 타이핑 분석, GPU 가속, 메모리 최적화를 지원하는 고성능 데스크톱 애플리케이션입니다."})]}),(0,a.jsx)(x,{onComplete:u}),t.length>0&&(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"최근 기록"}),(0,a.jsx)("div",{className:"space-y-2",children:t.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-md",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-900 dark:text-gray-100 truncate",children:[e.content.substring(0,50),"..."]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-1 text-xs text-gray-500 dark:text-gray-400",children:[(0,a.jsxs)("span",{children:["타자: ",e.keyCount]}),(0,a.jsxs)("span",{children:["시간: ",e.typingTime,"초"]}),(0,a.jsxs)("span",{children:["타수: ",e.typingTime>0?Math.round(e.keyCount/e.typingTime*60):0,"타/분"]})]})]}),(0,a.jsx)("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:new Date(e.timestamp).toLocaleString()})]},e.id||s))})]})]});case"stats":return(0,a.jsx)(C,{logs:t});case"analysis":return(0,a.jsx)(D,{});case"memory":return(0,a.jsx)(I,{});case"activity":return(0,a.jsx)(ea,{});case"system":return(0,a.jsx)(_,{});case"settings":return(0,a.jsx)(et,{});default:return(0,a.jsx)("div",{children:"페이지를 찾을 수 없습니다."})}})()})})]})}},45027:(e,s,t)=>{"use strict";t.d(s,{A:()=>c,D:()=>i});var a=t(95155),r=t(12115),l=t(39810);let n=(0,r.createContext)(void 0);function i(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}function c(e){let{children:s}=e,{settings:t,updateSetting:i,saveSettings:c}=(0,l.t)(),[o,d]=(0,r.useState)(!1),[x,m]=(0,r.useState)("light"),u=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",h=()=>"system"===t.theme?u():t.theme,g=e=>{if(console.log("\uD83C\uDFA8 ThemeProvider: DOM에 테마 적용",e),"undefined"==typeof document)return;let s=document.documentElement,t=document.body;s.classList.remove("light","dark","dark-mode"),t.classList.remove("light","dark","dark-mode"),s.classList.add(e),t.classList.add(e),"dark"===e&&(s.classList.add("dark-mode"),t.classList.add("dark-mode")),s.setAttribute("data-theme",e),t.setAttribute("data-theme",e),console.log("✅ ThemeProvider: 테마 DOM 적용 완료",{theme:e,rootClasses:s.className,bodyClasses:t.className})},b=async e=>{console.log("\uD83C\uDF19 ThemeProvider: 다크모드 설정",e);let s=e?"dark":"light";await i("darkMode",e),await i("theme",s);try{localStorage.setItem("darkMode",e.toString()),localStorage.setItem("theme",s)}catch(e){console.error("❌ ThemeProvider: localStorage 저장 실패",e)}},p=async e=>{console.log("\uD83C\uDFA8 ThemeProvider: 테마 설정",e),await i("theme",e);let s="system"===e?u():e;await i("darkMode","dark"===s)},j=async()=>{let e=h(),s="light"===e?"dark":"light";console.log("\uD83D\uDD04 ThemeProvider: 테마 토글",e,"->",s),await p(s)},y=async()=>{let e=!t.darkMode;console.log("\uD83C\uDF19 ThemeProvider: 다크모드 토글",t.darkMode,"->",e),await b(e)};if((0,r.useEffect)(()=>{let e=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>{if("system"===t.theme){console.log("\uD83D\uDD04 ThemeProvider: 시스템 테마 변경 감지");let e=h();m(e),g(e)}};return e.addEventListener("change",s),()=>e.removeEventListener("change",s)},[t.theme]),(0,r.useEffect)(()=>{if(!o)return;let e=h();console.log("⚙️ ThemeProvider: 설정 변경으로 테마 업데이트",{theme:t.theme,darkMode:t.darkMode,resolvedTheme:e}),m(e),g(e)},[t.theme,t.darkMode,o]),(0,r.useEffect)(()=>{console.log("\uD83D\uDE80 ThemeProvider: 컴포넌트 마운트 및 초기화");let e=h();m(e),g(e),d(!0),console.log("✅ ThemeProvider: 초기화 완료",{settingsTheme:t.theme,darkMode:t.darkMode,resolvedTheme:e})},[]),!o)return(0,a.jsx)(a.Fragment,{children:s});let f={theme:t.theme,resolvedTheme:x,isDarkMode:"dark"===x,toggleTheme:j,toggleDarkMode:y,setTheme:p,setDarkMode:b};return(0,a.jsx)(n.Provider,{value:f,children:s})}},48796:(e,s,t)=>{Promise.resolve().then(t.bind(t,43938))}},e=>{var s=s=>e(e.s=s);e.O(0,[699,441,684,358],()=>s(48796)),_N_E=e.O()}]);