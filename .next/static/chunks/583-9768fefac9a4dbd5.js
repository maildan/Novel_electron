"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{973:(e,t,o)=>{o.d(t,{E:()=>r,p:()=>i});var a=o(95155),n=o(12115),s=o(66908);let l=(0,n.createContext)(void 0);function i(e){let{children:t}=e,[o,i]=(0,n.useState)([]),[r,c]=(0,n.useState)(s.w);(0,n.useEffect)(()=>{let e=localStorage.getItem("notification-settings");if(e)try{let t=JSON.parse(e);c({...s.w,...t})}catch(e){console.error("Failed to parse notification settings:",e)}i([{id:"1",type:"success",title:"MCP 서버 연결",message:"TaskManager, Supabase, MongoDB MCP 서버와 성공적으로 연결되었습니다",timestamp:new Date(Date.now()-3e5),read:!1,category:"system",priority:"medium"},{id:"2",type:"info",title:"메모리 모니터링 활성화",message:"실시간 메모리 모니터링이 시작되었습니다. 현재 사용률: 62%",timestamp:new Date(Date.now()-6e5),read:!1,category:"memory",priority:"low"},{id:"3",type:"warning",title:"CPU 사용률 높음",message:"CPU 사용률이 85%를 초과했습니다. 일부 작업을 중단하는 것을 권장합니다",timestamp:new Date(Date.now()-9e5),read:!0,category:"system",priority:"high"},{id:"4",type:"success",title:"데이터베이스 동기화",message:"Supabase 데이터베이스와 동기화가 완료되었습니다. 47개의 레코드가 업데이트되었습니다",timestamp:new Date(Date.now()-18e5),read:!1,category:"system",priority:"medium"},{id:"5",type:"info",title:"새로운 작업 추가",message:"TaskManager를 통해 5개의 새로운 작업이 추가되었습니다",timestamp:new Date(Date.now()-27e5),read:!0,category:"task",priority:"low"},{id:"6",type:"error",title:"MongoDB 연결 오류",message:"MongoDB 서버에 연결할 수 없습니다. 네트워크 상태를 확인해주세요",timestamp:new Date(Date.now()-36e5),read:!1,category:"system",priority:"urgent"}])},[]),(0,n.useEffect)(()=>{localStorage.setItem("notification-settings",JSON.stringify(r))},[r]);let d=(0,n.useCallback)(e=>{if(!r.enabled)return;let t={...e,id:Date.now().toString(),timestamp:new Date,read:!1};if(i(e=>[t,...e]),r.soundEnabled)try{new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+LyvmwhBjiS1fPAeSsFJXfM7+KOTAYQW7LO").play()}catch(e){console.log("Sound notification failed:",e)}r.autoHide&&"error"!==e.type&&setTimeout(()=>{g(t.id)},r.autoHideDelay)},[r]),g=(0,n.useCallback)(e=>{i(t=>t.filter(t=>t.id!==e))},[]),m=(0,n.useCallback)(e=>{i(t=>t.map(t=>t.id===e?{...t,read:!0}:t))},[]),u=(0,n.useCallback)(()=>{i(e=>e.map(e=>({...e,read:!0})))},[]),h=(0,n.useCallback)(()=>{i([])},[]),b=(0,n.useCallback)(e=>{c(t=>({...t,...e}))},[]),y=o.filter(e=>!e.read).length;return(0,a.jsx)(l.Provider,{value:{notifications:o,settings:r,addNotification:d,removeNotification:g,markAsRead:m,markAllAsRead:u,clearAll:h,updateSettings:b,unreadCount:y},children:t})}function r(){let e=(0,n.useContext)(l);if(!e)throw Error("useNotifications must be used within a NotificationProvider");return e}},45027:(e,t,o)=>{o.d(t,{A:()=>r,D:()=>i});var a=o(95155),n=o(12115),s=o(55345);let l=(0,n.createContext)(void 0);function i(){let e=(0,n.useContext)(l);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}function r(e){let{children:t}=e,{settings:o,updateSetting:i,saveSettings:r}=(0,s.t)(),[c,d]=(0,n.useState)(!1),[g,m]=(0,n.useState)("light"),u=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",h=()=>(console.log("\uD83D\uDD0D ThemeProvider: 테마 계산 중",{theme:o.theme,darkMode:o.darkMode}),"light"===o.theme)?"light":"dark"===o.theme?"dark":"system"===o.theme?u():"boolean"==typeof o.darkMode?o.darkMode?"dark":"light":u(),b=e=>{if(console.log("\uD83C\uDFA8 ThemeProvider: DOM에 테마 적용",e),"undefined"==typeof document)return;let t=document.documentElement,o=document.body;t.classList.remove("light","dark","dark-mode"),o.classList.remove("light","dark","dark-mode"),t.classList.add(e),o.classList.add(e),"dark"===e&&(t.classList.add("dark-mode"),o.classList.add("dark-mode")),t.setAttribute("data-theme",e),o.setAttribute("data-theme",e),y(),console.log("✅ ThemeProvider: 테마 DOM 적용 완료",{theme:e,rootClasses:t.className,bodyClasses:o.className})},y=()=>{if(console.log("\uD83C\uDFAD ThemeProvider: 애니메이션 설정 적용",o.enableAnimations),"undefined"==typeof document)return;let e=document.documentElement,t=document.body;o.enableAnimations?(e.classList.remove("no-animations"),t.classList.remove("no-animations"),e.classList.add("animations-enabled"),t.classList.add("animations-enabled")):(e.classList.remove("animations-enabled"),t.classList.remove("animations-enabled"),e.classList.add("no-animations"),t.classList.add("no-animations")),e.style.setProperty("--animations-enabled",o.enableAnimations?"1":"0"),e.style.setProperty("--animation-duration",o.enableAnimations?"0.3s":"0s"),e.style.setProperty("--transition-duration",o.enableAnimations?"0.2s":"0s")},S=async e=>{console.log("\uD83C\uDF19 ThemeProvider: 다크모드 설정 시작",e),console.log("\uD83D\uDD0D ThemeProvider: 현재 설정 상태:",{darkMode:o.darkMode,theme:o.theme});try{let t=e?"dark":"light";console.log("1️⃣ ThemeProvider: darkMode 설정 업데이트 중...",e),await i("darkMode",e),console.log("2️⃣ ThemeProvider: theme 설정 업데이트 중...",t),await i("theme",t),console.log("3️⃣ ThemeProvider: DOM에 테마 적용 중...",e?"dark":"light"),m(e?"dark":"light"),b(e?"dark":"light");try{localStorage.setItem("darkMode",e.toString()),localStorage.setItem("theme",t),console.log("4️⃣ ThemeProvider: localStorage 백업 저장 완료")}catch(e){console.error("❌ ThemeProvider: localStorage 저장 실패",e)}console.log("✅ ThemeProvider: 다크모드 설정 완료",{enabled:e,theme:t,localStorage:{darkMode:localStorage.getItem("darkMode"),theme:localStorage.getItem("theme")}})}catch(e){console.error("❌ ThemeProvider: 다크모드 설정 실패",e)}},k=async e=>{console.log("\uD83C\uDFA8 ThemeProvider: 테마 설정",e),await i("theme",e);let t="system"===e?u():e;await i("darkMode","dark"===t)},p=async()=>{let e=h(),t="light"===e?"dark":"light";console.log("\uD83D\uDD04 ThemeProvider: 테마 토글",e,"->",t),await k(t)},w=async()=>{let e=o.darkMode||"dark"===g,t=!e;console.log("\uD83C\uDF19 ThemeProvider: 다크모드 토글",e,"->",t),await S(t)};(0,n.useEffect)(()=>{let e=window.matchMedia("(prefers-color-scheme: dark)"),t=()=>{if("system"===o.theme){console.log("\uD83D\uDD04 ThemeProvider: 시스템 테마 변경 감지");let e=h();m(e),b(e)}};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[o.theme]),(0,n.useEffect)(()=>{c&&(console.log("\uD83C\uDFAD ThemeProvider: 애니메이션 설정 변경 감지",o.enableAnimations),y())},[o.enableAnimations,c]),(0,n.useEffect)(()=>{if(!c)return;let e=h();console.log("⚙️ ThemeProvider: 설정 변경으로 테마 업데이트",{theme:o.theme,darkMode:o.darkMode,resolvedTheme:e}),m(e),b(e)},[o.theme,o.darkMode,c]),(0,n.useEffect)(()=>{console.log("\uD83D\uDE80 ThemeProvider: 컴포넌트 마운트 및 초기화");let e=h();m(e),b(e),d(!0),console.log("✅ ThemeProvider: 초기화 완료",{settingsTheme:o.theme,darkMode:o.darkMode,resolvedTheme:e})},[]);let f=c?{theme:o.theme,resolvedTheme:g,isDarkMode:"dark"===g,toggleTheme:p,toggleDarkMode:w,setTheme:k,setDarkMode:S}:{theme:"system",resolvedTheme:"light",isDarkMode:!1,toggleTheme:()=>{},toggleDarkMode:()=>{},setTheme:()=>{},setDarkMode:()=>{}};return(0,a.jsx)(l.Provider,{value:f,children:t})}},55345:(e,t,o)=>{o.d(t,{t:()=>s});var a=o(12115);let n={enabledCategories:{docs:!0,office:!0,coding:!0,sns:!0,browser:!0,game:!1,media:!0,other:!0},autoStartMonitoring:!0,resumeAfterIdle:!0,idleTimeout:300,theme:"system",windowMode:"windowed",darkMode:!1,minimizeToTray:!0,showTrayNotifications:!0,enableMiniView:!0,enableAnimations:!0,fontSize:14,fontFamily:"system-ui",useHardwareAcceleration:!1,enableGPUAcceleration:!0,gpuAccelerationLevel:1,processingMode:"auto",reduceMemoryInBackground:!0,enableMemoryOptimization:!0,enableBackgroundCleanup:!0,garbageCollectionInterval:6e4,maxMemoryThreshold:100,memoryCleanupInterval:3e5,memoryThreshold:80,autoCleanupLogs:!0,maxHistoryItems:500,logRetentionDays:30,enableDataCollection:!0,enableAnalytics:!1,dataRetentionDays:30,enableAutoSave:!0,autoSaveInterval:1e4,enableWPMDisplay:!0,enableAccuracyDisplay:!0,enableRealTimeStats:!0,enableTypingSound:!1,enableKeyboardShortcuts:!0,statsFilePath:"",enableTypingAnalysis:!0,enableRealTimeAnalysis:!1,statsCollectionInterval:5e3,enableKeyboardDetection:!0,enablePatternLearning:!1,keyboard:{autoStart:!0,enableHangulSupport:!0,enableJamoTracking:!1,hangulMode:"auto",jamoSeparation:!1,trackingInterval:100},windowSettings:{miniSize:{width:300,height:200},opacity:.9,alwaysOnTop:!1,autoHide:!1,position:{x:0,y:0}},windowOpacity:1,alwaysOnTop:!1,enableSystemMonitoring:!1,enablePerformanceLogging:!1,monitoringInterval:5e3,enableCPUMonitoring:!1,enableMemoryMonitoring:!1,enableDiskMonitoring:!1,enableNotifications:!0,enableTrayNotifications:!0,enableDebugMode:!1,enableConsoleLogging:!1,enableErrorReporting:!0,logLevel:"info"};function s(){let{isElectron:e,electronAPI:t}=function(){let[e,t]=(0,a.useState)(null),[o,n]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=window&&window.process&&window.process.versions&&!!window.process.versions.electron;if(n(e),e){let e=window.electronAPI;e&&e.ipcRenderer?t(e):(console.warn("Electron API를 찾을 수 없습니다."),t(null))}else t(null)},[]),{isElectron:o,electronAPI:e}}(),[o,s]=(0,a.useState)(n),[l,i]=(0,a.useState)(!0),[r,c]=(0,a.useState)(null),d=(0,a.useCallback)(async()=>{console.debug("\uD83D\uDCE5 useSettings: 설정 로드 시작"),i(!0),c(null);try{if(console.debug("\uD83D\uDD0D useSettings: Electron 환경:",e),console.debug("\uD83D\uDD0D useSettings: electronAPI 존재:",!!t),e&&t&&t.settings){console.debug("\uD83D\uDD0C useSettings: Electron Settings API를 통해 설정 로드");try{let e=await t.settings.getAll();if(console.debug("✅ useSettings: 설정 로드 성공:",e),e&&"object"==typeof e){let t={...n,...e};s(t),console.debug("\uD83D\uDCDD useSettings: 백엔드 설정으로 상태 업데이트 완료");try{localStorage.setItem("loop-settings",JSON.stringify(t)),console.debug("✅ useSettings: localStorage 백업 저장 완료")}catch(e){console.warn("⚠️ useSettings: localStorage 백업 저장 실패:",e)}}else{console.warn("⚠️ useSettings: 백엔드에서 유효한 설정을 가져오지 못함, 기본값으로 폴백"),s(n);try{let e=await t.settings.updateMultiple(n);console.debug("✅ useSettings: 기본 설정을 백엔드에 저장 완료:",e)}catch(e){console.warn("⚠️ useSettings: 기본 설정 백엔드 저장 실패:",e)}}}catch(e){console.error("❌ useSettings: IPC 설정 로드 실패:",e),await g()}}else console.debug("\uD83C\uDF10 useSettings: 웹 환경에서 localStorage 사용"),await g()}catch(e){console.error("❌ useSettings: 설정 로드 중 예외 발생:",e),c("설정 로드 실패: ".concat(e)),s(n)}finally{i(!1),console.debug("� useSettings: 설정 로드 완료")}},[e,t]),g=(0,a.useCallback)(async()=>{try{let e=localStorage.getItem("loop-settings");if(e){let t=JSON.parse(e);console.debug("✅ useSettings: localStorage에서 설정 로드:",t),s({...n,...t})}else console.debug("\uD83D\uDCDD useSettings: localStorage에 설정 없음, 기본값 사용"),s(n)}catch(e){console.error("❌ useSettings: localStorage 설정 로드 실패:",e),c("설정 로드 실패: ".concat(e)),s(n)}},[]),m=(0,a.useCallback)(async a=>{console.group("\uD83D\uDCBE useSettings: 설정 저장 프로세스 시작"),console.log("\uD83D\uDCE5 저장할 설정:",a),console.log("\uD83D\uDCCA 현재 설정 상태:",o);let n={...o,...a};console.log("\uD83D\uDD04 병합된 설정:",n);try{if(s(n),console.log("✅ React 상태 업데이트 완료"),e&&t&&t.settings){console.log("\uD83D\uDD0C Electron Settings API를 통해 설정 저장 중..."),console.log("\uD83D\uDD0D 전송할 데이터:",a);try{let e=Date.now(),o=await t.settings.updateMultiple(a),n=Date.now();if(console.log("⏱️ 저장 소요 시간:",n-e+"ms"),console.log("\uD83D\uDCE4 IPC 호출 결과:",o),o){console.log("✅ Electron 백엔드 저장 성공"),c(null),console.log("\uD83D\uDD04 저장 검증을 위해 설정 다시 로드 중...");try{let e=await t.settings.getAll();console.log("✔️ 저장 검증 결과:",e)}catch(e){console.warn("⚠️ 저장 검증 실패:",e)}}else console.error("❌ Electron 설정 저장 실패 - false 반환"),c("백엔드 저장 실패")}catch(e){console.error("❌ Electron 설정 저장 IPC 오류:",e),c("백엔드 저장 실패: ".concat(e))}}else console.log("\uD83C\uDF10 웹 환경에서 localStorage에 저장");try{let e="loop-settings";localStorage.setItem(e,JSON.stringify(n)),console.log("✅ localStorage 저장 완료"),console.log("\uD83D\uDCBE localStorage 저장된 데이터:",localStorage.getItem(e))}catch(t){console.error("❌ localStorage 저장 실패:",t),e||c("로컬 저장 실패: ".concat(t))}console.log("\uD83C\uDFC1 설정 저장 프로세스 완료"),console.groupEnd()}catch(e){c(e instanceof Error?e.message:"설정 저장 실패"),console.error("\uD83D\uDCA5 설정 저장 중 치명적 오류:",e),console.groupEnd(),console.log("\uD83D\uDD04 저장 실패로 인한 상태 롤백"),s(o)}},[o,e,t]),u=(0,a.useCallback)(async()=>{console.debug("\uD83D\uDD04 useSettings: 설정 리셋 시작"),s(n);try{if(e&&t&&t.settings)try{let e=await t.settings.reset();console.debug("✅ useSettings: Electron 설정 리셋 결과:",e)}catch(e){console.warn("⚠️ useSettings: Electron 설정 리셋 실패:",e)}localStorage.removeItem("loop-settings"),console.debug("✅ useSettings: localStorage 설정 제거 완료")}catch(e){c(e instanceof Error?e.message:"설정 리셋 실패"),console.error("❌ useSettings: 설정 리셋 중 오류:",e)}},[e,t]),h=(0,a.useCallback)((e,t)=>{console.debug("\uD83D\uDD27 useSettings: 개별 설정 업데이트 - ".concat(String(e),":"),t),m({[e]:t})},[m]),b=(0,a.useCallback)(()=>{let e="light"===o.theme?"dark":"dark"===o.theme?"system":"light";console.debug("\uD83C\uDFA8 useSettings: 테마 변경",o.theme,"->",e);let t={theme:e};"system"===e?t.darkMode=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches:t.darkMode="dark"===e,console.debug("\uD83D\uDD04 useSettings: 동기화된 설정 업데이트",t),m(t)},[o.theme,m]),y=(0,a.useCallback)(()=>{let e=!o.darkMode;console.debug("\uD83C\uDF19 useSettings: 다크모드 토글",o.darkMode,"->",e);let t={darkMode:e,theme:e?"dark":"light"};console.debug("\uD83D\uDD04 useSettings: 동기화된 다크모드 설정 업데이트",t),m(t)},[o.darkMode,m]),S=(0,a.useCallback)(()=>{console.debug("⚡ useSettings: GPU 가속 토글",!o.enableGPUAcceleration),h("enableGPUAcceleration",!o.enableGPUAcceleration)},[o.enableGPUAcceleration,h]);return(0,a.useEffect)(()=>{console.debug("\uD83D\uDD04 useSettings: 컴포넌트 마운트, 설정 로드 시작"),d()},[d]),(0,a.useEffect)(()=>{e&&t&&t.settings&&(console.debug("\uD83D\uDD0C useSettings: Electron Settings API 준비됨, 설정 재로드"),d())},[e,t,d]),{settings:o,isLoading:l,error:r,saveSettings:m,resetSettings:u,updateSetting:h,loadSettings:d,toggleTheme:b,toggleDarkMode:y,toggleGPUAcceleration:S,darkMode:o.darkMode,getGPUSettings:()=>({enableGPUAcceleration:o.enableGPUAcceleration,gpuAccelerationLevel:o.gpuAccelerationLevel}),getMemorySettings:()=>({enableMemoryOptimization:o.enableMemoryOptimization,enableBackgroundCleanup:o.enableBackgroundCleanup,memoryThreshold:o.memoryThreshold,monitoringInterval:o.monitoringInterval}),getSystemSettings:()=>({enableSystemMonitoring:o.enableSystemMonitoring,enableCPUMonitoring:o.enableCPUMonitoring,enableMemoryMonitoring:o.enableMemoryMonitoring,enableDiskMonitoring:o.enableDiskMonitoring})}}},66908:(e,t,o)=>{o.d(t,{w:()=>a});let a={enabled:!0,systemNotifications:!0,memoryWarnings:!0,taskCompletions:!0,weeklyReports:!1,soundEnabled:!1,position:"top-right",autoHide:!0,autoHideDelay:5e3}}}]);