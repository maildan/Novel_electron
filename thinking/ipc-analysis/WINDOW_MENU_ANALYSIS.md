# ğŸªŸ **Window & Menu ê´€ë¦¬ íŒŒì¼ë“¤ IPC ìƒíƒœê³„ ë¶„ì„**

**ìƒì„±ì¼**: 2025.06.18  
**ë¶„ì„ ì§„í–‰ë¥ **: 22/58 main í´ë” íŒŒì¼ ë¶„ì„ ì™„ë£Œ (37.9% ì§„í–‰)

## ğŸ“Š **Window & Menu íŒŒì¼ êµ¬ì¡° ë§¤í•‘**

### **1. window.ts (326ì¤„)**
- **í•µì‹¬ ê¸°ëŠ¥**: ë©”ì¸ ìœˆë„ìš° ê´€ë¦¬ (`WindowManager` ì‹±ê¸€í†¤)
- **IPC/API ì—°ê´€**: ì§ì ‘ì ì¸ IPC í•¸ë“¤ëŸ¬ ì—†ìŒ, WindowHandlersì—ì„œ ì‚¬ìš©
- **React ì—°ë™**: ìœˆë„ìš° ìƒì„±/ì œì–´, CSP í—¤ë” í›„í‚¹ (ê°œë°œ ëª¨ë“œ)
- **íƒ€ì… ì•ˆì „ì„±**: TypeScript ì—„ê²©, AppConfig ì˜ì¡´ì„±
- **main í´ë” ì—°ê´€**: `windowHandlers.ts`ì™€ ë°€ì ‘í•œ ì—°ë™

#### **ì£¼ìš” ê¸°ëŠ¥ ê·¸ë£¹**
```typescript
// 1. ìœˆë„ìš° ìƒì„± & ì´ˆê¸°í™”
createMainWindow() // ë””ìŠ¤í”Œë ˆì´ ì •ë³´ ê¸°ë°˜ í¬ê¸° ê³„ì‚°
setupWindowEventListeners() // ìœˆë„ìš° ì´ë²¤íŠ¸ ì²˜ë¦¬

// 2. ìœˆë„ìš° ì œì–´
focusMainWindow(), hideMainWindow(), closeMainWindow()
getWindowInfo() // ëª¨ë“  ìœˆë„ìš° ì •ë³´ ì¡°íšŒ

// 3. ë³´ì•ˆ & ê°œë°œì ê¸°ëŠ¥
CSP í—¤ë” í›„í‚¹ (Turbopack í˜¸í™˜ì„±)
ì™¸ë¶€ ë§í¬ ì°¨ë‹¨, ë„¤ë¹„ê²Œì´ì…˜ ì œí•œ
ê°œë°œì ë„êµ¬ ìë™ ì—´ê¸° (detach ëª¨ë“œ)
```

### **2. windowHandlers.ts (441ì¤„)**
- **í•µì‹¬ ê¸°ëŠ¥**: ìœˆë„ìš° IPC í•¸ë“¤ëŸ¬ ì „ë¬¸ ê´€ë¦¬
- **IPC/API ì—°ê´€**: **9ê°œ IPC í•¸ë“¤ëŸ¬** (ìœˆë„ìš° ëª¨ë“œ, ìƒíƒœ, í¬ê¸°, íˆ¬ëª…ë„ ë“±)
- **React ì—°ë™**: ìœˆë„ìš° ìƒíƒœ ë¸Œë¡œë“œìºìŠ¤íŠ¸ (`window-status-update`)
- **íƒ€ì… ì•ˆì „ì„±**: ë³µí•© íƒ€ì… ì •ì˜ (`WindowStatusInfo`, `WindowBounds`)
- **main í´ë” ì—°ê´€**: `window.ts`, `settings-manager.ts`, `constants.ts` ì˜ì¡´

#### **IPC í•¸ë“¤ëŸ¬ ê·¸ë£¹ë³„ ë¶„ë¥˜**
```typescript
// ìœˆë„ìš° ëª¨ë“œ ê´€ë¦¬ (4ê°œ)
setWindowMode // windowed, fullscreen, maximized
setWindowBounds // í¬ê¸°/ìœ„ì¹˜ ì„¤ì •
setWindowOpacity // íˆ¬ëª…ë„ ì„¤ì •  
setAlwaysOnTop // í•­ìƒ ìœ„ì— ì„¤ì •

// ìœˆë„ìš° ì œì–´ (4ê°œ)
minimizeWindow, maximizeWindow, closeWindow, focusWindow

// ìœˆë„ìš° ì •ë³´ (1ê°œ)
getWindowStatus // í˜„ì¬ ìœˆë„ìš° ìƒíƒœ ì¡°íšŒ
```

### **3. menu-manager.ts (736ì¤„)**
- **í•µì‹¬ ê¸°ëŠ¥**: ë„¤ì´í‹°ë¸Œ ë©”ë‰´ ì‹œìŠ¤í…œ ê´€ë¦¬ (`MenuManager` ì‹±ê¸€í†¤)
- **IPC/API ì—°ê´€**: ë©”ë‰´ ì•¡ì…˜ì„ IPCë¡œ ì „ì†¡ (`sendMenuAction`)
- **React ì—°ë™**: ë©”ë‰´ í´ë¦­ ì‹œ React ì»´í¬ë„ŒíŠ¸ì— ì•¡ì…˜ ì „ë‹¬
- **íƒ€ì… ì•ˆì „ì„±**: ë©”ë‰´ ì˜µì…˜ ì¸í„°í˜ì´ìŠ¤ (`MenuOptions`, `MenuActionPayload`)
- **main í´ë” ì—°ê´€**: ë…ë¦½ì ì´ì§€ë§Œ ë‹¤ë¥¸ ë§¤ë‹ˆì €ë“¤ê³¼ ì—°ë™

#### **ë©”ë‰´ êµ¬ì¡°**
```typescript
// í”Œë«í¼ë³„ ë©”ë‰´ (macOS/Windows/Linux)
createAppMenu() // macOS ì•± ë©”ë‰´
createFileMenu() // íŒŒì¼ ì—´ê¸°, ì €ì¥, ìµœê·¼ íŒŒì¼
createEditMenu() // ì‹¤í–‰ì·¨ì†Œ, ë³µì‚¬, ë¶™ì—¬ë„£ê¸°  
createViewMenu() // ìƒˆë¡œê³ ì¹¨, ì¤Œ, ì „ì²´í™”ë©´
createWindowMenu() // ìµœì†Œí™”, ë‹«ê¸°
createHelpMenu() // ì˜¨ë¼ì¸ ë„ì›€ë§, í”¼ë“œë°±

// ë©”ë‰´ ì•¡ì…˜ íƒ€ì…
'open-settings' | 'file-opened' | 'save' | 'save-as' 
| 'toggle-mini-view' | 'check-updates'
```

### **4. menu.ts (723ì¤„) - ì´ì „ ë¶„ì„**
- **í•µì‹¬ ê¸°ëŠ¥**: ì• í”Œë¦¬ì¼€ì´ì…˜ ë©”ë‰´ êµ¬ì„± (`createMenu` í•¨ìˆ˜)
- **IPC/API ì—°ê´€**: ë©”ë‰´ í´ë¦­ ì‹œ IPC ì´ë²¤íŠ¸ ë°œì†¡
- **React ì—°ë™**: ë©”ë‰´ ì•¡ì…˜ì„ Reactë¡œ ì „ë‹¬
- **íƒ€ì… ì•ˆì „ì„±**: Electron Menu íƒ€ì… í™œìš©
- **main í´ë” ì—°ê´€**: `menu-manager.ts`ì™€ **ì¤‘ë³µ ê¸°ëŠ¥**

## âš ï¸ **ìƒˆë¡œ ë°œê²¬ëœ ì¤‘ë³µ êµ¬ì¡° & ë¦¬ìŠ¤í¬**

### **ğŸš¨ ë©”ë‰´ ì‹œìŠ¤í…œ ì¤‘ë³µ (ì‹¬ê°)**
```typescript
// ì¤‘ë³µ 1: menu.ts (723ì¤„)
export function createMenu(): Menu // ì „ì²´ ë©”ë‰´ êµ¬ì„±
createFileMenu(), createEditMenu(), createViewMenu() // ê°œë³„ ë©”ë‰´

// ì¤‘ë³µ 2: menu-manager.ts (736ì¤„)  
class MenuManager {
  createApplicationMenu() // ë™ì¼í•œ ë©”ë‰´ êµ¬ì„±
  createFileMenu(), createEditMenu(), createViewMenu() // ë™ì¼í•œ ê°œë³„ ë©”ë‰´
}

// ìœ„í—˜: ê±°ì˜ ë™ì¼í•œ ë©”ë‰´ ìƒì„± ë¡œì§ì´ 2ë²Œë¡œ ì¡´ì¬
```

### **ğŸš¨ ìœˆë„ìš° ê´€ë¦¬ ë¶„ì‚° (ì¤‘ê°„)**
```typescript
// window.ts - ìœˆë„ìš° ìƒì„±/ê´€ë¦¬
class WindowManager {
  createMainWindow()
  getWindowInfo()
}

// windowHandlers.ts - ìœˆë„ìš° IPC ì²˜ë¦¬
registerWindowHandlers() // 9ê°œ IPC í•¸ë“¤ëŸ¬
applyWindowMode(), setWindowBounds()

// ê´€ë¦¬ í¬ì¸íŠ¸ê°€ ë¶„ì‚°ë˜ì–´ ìˆìœ¼ë‚˜ ì—­í• ì€ ëª…í™•íˆ êµ¬ë¶„ë¨
```

### **ğŸš¨ Settings Manager ì˜ì¡´ì„± í˜¼ì¬ (ì¤‘ê°„)**
```typescript
// windowHandlers.tsì—ì„œ
import SettingsManager from './settings-manager';

// ë‹¤ë¥¸ íŒŒì¼ë“¤ì—ì„œë„ SettingsManager ì§ì ‘ import
// ì„¤ì • ê´€ë¦¬ì˜ ì¤‘ì•™ ì§‘ì¤‘í™” ë¶€ì¡±
```

## ğŸ”§ **ì‹¤ë¬´ì  ê°œì„  ë°©ì•ˆ**

### **1ìˆœìœ„: ë©”ë‰´ ì‹œìŠ¤í…œ í†µí•©**
- `menu.ts`ì™€ `menu-manager.ts` ì¤‘ë³µ ì œê±°
- ë‹¨ì¼ ë©”ë‰´ ê´€ë¦¬ìë¡œ í†µí•©

### **2ìˆœìœ„: ìœˆë„ìš° ì´ë²¤íŠ¸ í‘œì¤€í™”**
- ìœˆë„ìš° ìƒíƒœ ë³€ê²½ ì‹œ ì¼ê´€ëœ ë¸Œë¡œë“œìºìŠ¤íŠ¸
- ì¤‘ì•™ì§‘ì¤‘ì‹ ìœˆë„ìš° ìƒíƒœ ê´€ë¦¬

### **3ìˆœìœ„: ì„¤ì • ì˜ì¡´ì„± ì •ë¦¬**
- SettingsManager ì˜ì¡´ì„± ëª…í™•í™”
- ì„¤ì • ë³€ê²½ ì‹œ ì—°ì‡„ ë°˜ì‘ ê´€ë¦¬

## ğŸ“ˆ **Window & Menu ì•„í‚¤í…ì²˜ íŠ¹ì§•**

### **âœ… ê°•ì **
- **í”Œë«í¼ ëŒ€ì‘**: macOS/Windows/Linux ë©”ë‰´ ì°¨ì´ ì ì ˆíˆ ì²˜ë¦¬
- **íƒ€ì… ì•ˆì „ì„±**: TypeScriptë¡œ ë©”ë‰´ ì˜µì…˜ ë° ìœˆë„ìš° ìƒíƒœ íƒ€ì…í™”
- **ì´ë²¤íŠ¸ ê¸°ë°˜**: ìœˆë„ìš° ìƒíƒœ ë³€ê²½ ì‹œ ë¸Œë¡œë“œìºìŠ¤íŠ¸ íŒ¨í„´

### **âš ï¸ ë¦¬ìŠ¤í¬**
- **ë©”ë‰´ ì¤‘ë³µ**: ê±°ì˜ ë™ì¼í•œ ë©”ë‰´ ìƒì„± ë¡œì§ 2ë²Œ
- **ì˜ì¡´ì„± ë¶„ì‚°**: ì—¬ëŸ¬ íŒŒì¼ì—ì„œ ì§ì ‘ì ì¸ SettingsManager ì˜ì¡´
- **ìƒíƒœ ë™ê¸°í™”**: ìœˆë„ìš° ìƒíƒœ ë³€ê²½ ì‹œ ì¼ë¶€ ëˆ„ë½ ê°€ëŠ¥ì„±

## ğŸ“Š **ì•„í‚¤í…ì²˜ ë¦¬ìŠ¤í¬ ì—…ë°ì´íŠ¸**

**ì´ì „ ì¤‘ë³µ**: 15ê±´
**ìƒˆë¡œ ë°œê²¬ëœ ì¤‘ë³µ**: 2ê±´  
**ì´ ì¤‘ë³µ**: **17ê±´**

**ì§„í–‰ë¥ **: 37.9% (22/58 íŒŒì¼ ì™„ë£Œ)
**ë‹¤ìŒ ë¶„ì„ ëŒ€ìƒ**: ë‚˜ë¨¸ì§€ ë§¤ë‹ˆì € íŒŒì¼ë“¤ (`dialog-manager.ts`, `stats-manager.ts`, `platform-manager.ts` ë“±)

---

**ì½”íŒŒì¼ëŸ¿ ê·œì¹™ ì¤€ìˆ˜**: âœ… ì‚¬ìš©ì ìš”ì²­ ìš°ì„ , âœ… ì¡´ëŒ“ë§ ìœ ì§€, âœ… ì‹¤ë¬´ì  ë¶„ì„, âœ… ì¤‘ë³µ êµ¬ì¡° ì¶”ì 
