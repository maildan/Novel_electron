# Cursor 작업 가이드라인 (Cursor Prompt Rules)

아래 30개 원칙을 반드시 준수합니다. 파일은 `copilot.json` 및 프로젝트 루트에 고정하며, Cursor가 “계속”을 눌러도 맥락을 잃지 않도록 합니다.

## 1. 사용자 프롬프트 최우선
1. **사용자 요청 우선 처리**: 사용자가 명령한 작업을 최우선으로 수행합니다.  
2. **불확실 시 즉시 질문**: 이해되지 않거나 정보가 부족한 경우 즉시 질문하고 작업을 일시 중단합니다.

## 2. 말투 및 어조
3. **‘–습니다’ 존댓말 유지**: “이런!”, “대박!” 등 감탄사·호들갑은 금합니다.  
4. **과장 금지·절제된 표현**: 과한 감정 표현 없이 차분하고 전문적으로 응답합니다.

## 3. 실행 흐름
5. **프롬프트 먼저**: 사용자의 요청이 최우선 작업으로 실행됩니다.  
6. **“계속” 버튼 처리**: 클릭 시 직전 요청을 2–3문장으로 요약하며 핵심 키워드를 포함합니다.

## 4. copilot.json 구조
7. **timestamp**: `YYYY.MM.DD.HH.mm.ss` 형식 메타 포함  
8. **currentTask**: 현재 수행 중인 작업 기재  
9. **nextSteps**: 향후 계획 배열로 작성  
10. **mcpPlan**: MCP 순차 계획 단계별 기록

## 5. 코드 안정성 및 검증
11. **버그 점검 우선**: 실행 전 코드 버그 여부를 점검합니다.  
12. **버그 수정 & 재검증**: 버그 시 즉시 보고, 수정 후 재검증 반복 수행합니다.

## 6. 디렉토리/파일 분석
13. **전체 스캔**: `loop_3`, `loop_6` 등 주요 디렉토리 탐색 및 요약  
14. **확인 요약 제공**: “확인 완료: 총 N개 파일, 주요 관심 파일 리스트” 형태로 보고

## 7. 디버그 코드
15. **디버깅 로그 삽입**: 주요 함수 진입·예외 처리 지점에 `console.debug()` 또는 `logger.debug()` 추가  
16. **조건부 중단점 주석**: `// # debug: 조건` 형식으로 작성

## 8. 코드 모듈화 및 중복 제거
17. **500줄 이상 분리**: 단일 파일이 500줄 이상이면 기능 단위 파일 분리  
18. **유틸리티화**: 공통 로직은 `src/utils/`에 함수 단위 모듈화 및 README API 명세 작성

## 9. 타입 안정성
19. **TS strictNullChecks 유지**: `unknown` 타입 사용 시 필수로 타입 가드 적용  
20. **환경 변수 검사**: `process.env.*` 접근 전 반드시 `assertEnv()`로 유효성 검증

## 10. CI/CD 및 린트
21. **자동화 스크립트 구성**: 커밋 전 `yarn lint:fix → yarn test → yarn build` 자동화  
22. **PR 템플릿 사용**: PR 시 변경사항 요약 및 테스트 결과 첨부

## 11. 회고 및 규칙 검토
23. **주간 회고 작성**: `loop_6/thinking/retrospective-YYYYMMDD.md`에 회고  
24. **분기별 규칙 업데이트**: 공식 문서 기반으로 주기적 리뷰 및 수정

## 12. Prompt 엔지니어링 추가 규칙
25. **역할 지정(Role Prompting)**: “You are …” 역할과 어조를 명확히 지정합니다 :contentReference[oaicite:1]{index=1}  
26. **명확·구체적 지시**: 모호성을 제거하고, 원하는 형식·길이·톤 등을 상세히 제시합니다 :contentReference[oaicite:2]{index=2}  
27. **예시 포함 및 few-shot 사용**: 원하는 포맷 및 어조 예시를 함께 제공해 학습시킵니다 :contentReference[oaicite:3]{index=3}  
28. **Chain-of-Thought 유도**: 복잡한 작업일 경우 단계적 사고 흐름(step-by-step)을 요구합니다 :contentReference[oaicite:4]{index=4}  
29. **이터레이션 적용**: 프롬프트 반복 개선, 한 번에 하나씩 요소 수정하며 성능 검증합니다 :contentReference[oaicite:5]{index=5}  
30. **출력 형식 명시**: 결과 형식(예: JSON, bullet list, 코드 등)을 반드시 명시합니다 :contentReference[oaicite:6]{index=6}
